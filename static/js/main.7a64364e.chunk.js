(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,t,a){e.exports=a(159)},140:function(e,t,a){},159:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),l=(a(140),a(11)),o=a(18),s=a(99),u=(a(145),"SHOW_SIDEBAR"),m="HIDE_SIDEBAR";var d={sidebarOpened:!0},h="NOTIFICATION_SHOW",f="NOTIFICATION_HIDE",p="NOTIFICATION_SET",g=[],E=0;function b(){return{type:f}}function v(e){return function(t,a){var n=a().notification.opened;g.push(e),t(n?b():C())}}function C(){return function(e){var t;g.length&&(e((t=g.shift(),{type:p,messageText:t,messageKey:++E})),e({type:h}))}}var O={opened:!1,messageText:"",messageKey:""},y="https://gth-talk-stranger-cfs.herokuapp.com/api",j="/",k={UNCHECKED:0,REJECTED:1,APPROVED:2},w=20,x={ADMIN:1,MODERATOR:2},S=window.localStorage;function N(e){return function(e){return D(x.MODERATOR,e.role)}(e)||F(e)}function F(e){return D(x.ADMIN,e.role)}function D(e,t){return t>0&&(t&e)===e}function _(e){S.setItem("token",e)}var I={"Content-Type":"application/json"};function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return U(e,Object.assign({headers:P(I),mode:"cors"},t))}function A(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return U(e,Object.assign({method:"POST",body:JSON.stringify(t),headers:P(I),mode:"cors"},a))}function U(e,t){var a=new URL("".concat(y).concat(e));return t.qs&&Object.keys(t.qs).forEach(function(e){var n=t.qs[e];void 0!==n&&a.searchParams.append(e,n)}),fetch(a,t).then(R).then(B)}function R(e){return e.ok?e.json():Promise.reject(e)}function B(e){return e.error_code?Promise.reject(e):e}function P(e){var t=S.getItem("token");return t?Object.assign({authorization:"bearer "+t},e):e}var M={list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,a=void 0===t?10:t,n=e.offset;return T("/confessions",{qs:{limit:a,offset:void 0===n?0:n,status:e.status}})},update:function(e,t){return A("/confessions/".concat(e),t)}},L={getCurrentUser:function(){return T("/auth/user")},login:function(e){return A("/auth/login",{username:e.username,password:e.password})}},H={listUsers:function(){return T("/admin/users")},getUser:function(e){return T("/admin/users/".concat(e))},blockUser:function(e){return A("/admin/users/".concat(e,"/block"))},forceUserCloseChat:function(e){return A("/admin/users/".concat(e,"/closechat"))},listMappings:function(){return T("/admin/mappings")},addMapping:function(e){return A("/admin/mappings",{waiter:e.waiter,target:e.target})},removeMapping:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return U(e,Object.assign({method:"DELETE",headers:P(I),mode:"cors"},t))}("/admin/mappings/".concat(e))}},z={unblockUser:function(e){return A("/mod/users/".concat(e,"/unblock"))},getUserProfile:function(e){return T("/mod/users/".concat(e))}},G={list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,a=void 0===t?10:t,n=e.offset;return T("/active-users/list",{qs:{limit:a,offset:void 0===n?0:n,gender:e.gender,lastActive:e.lastActive,age:e.age}})}},K=0,V="C_FETCH_REQUEST",W="C_FETCH_SUCCESS",J="C_SET_STATUS_FILTER",q="C_TOGGLE_STATUS",Y="C_SET_NUMBER";function Q(e,t){return{type:q,id:e,status:t}}function $(e,t){return function(a){t>K&&(K=t),a(function(e,t){return{type:Y,id:e,number:t}}(e,t))}}function X(e){return function(t,a){var n=a().confessions.items.filter(function(t){return t.id===e})[0];if(n){var r=n.status===k.APPROVED?k.UNCHECKED:k.APPROVED,c=n.number||r!==k.APPROVED?void 0:K+1;M.update(n.id,{status:r,number:c}).then(function(){t(Q(e,r)),c&&t($(e,K+1))})}}}function Z(e){return function(t,a){var n=a().confessions.items.filter(function(t){return t.id===e})[0];if(n){var r=n.status===k.REJECTED?k.UNCHECKED:k.REJECTED;M.update(n.id,{status:r}).then(function(){t(Q(e,r))})}}}function ee(e){return function(t,a){t({type:V});var n=a().confessions.statusFilter,r={limit:w,offset:w*e};return n>-1&&(r.status=n),M.list(r).then(function(a){t(function(e,t,a){return{type:W,items:e,total:t,page:a}}(a.data.items,a.data.total,e))})}}function te(){return function(e,t){return e(ee(t().confessions.page))}}function ae(e){return function(t){return t(function(e){return{type:J,status:e}}(e)),t(ee(0))}}function ne(e,t){return function(a){return M.update(e,{number:t}).then(function(){return a($(e,t))})}}var re={items:[],total:0,page:0,isFetching:!1,statusFilter:k.UNCHECKED},ce=a(32),ie="SET_USER";function le(e){return{type:ie,user:e}}function oe(e){var t=e.username,a=e.password;return function(e){return L.login({username:t,password:a}).then(function(t){_(t.data.token),e(le(t.data))}).catch(function(){e(v("Failed"))})}}var se={user:null},ue={ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;switch((arguments.length>1?arguments[1]:void 0).type){case u:return Object.assign({},e,{sidebarOpened:!0});case m:return Object.assign({},e,{sidebarOpened:!1});default:return e}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object.assign({},e,{opened:!0});case f:return Object.assign({},e,{opened:!1});case p:return Object.assign({},e,{messageKey:t.messageKey,messageText:t.messageText});default:return e}},confessions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object.assign({},e,{isFetching:!0});case W:return Object.assign({},e,{items:t.items,total:t.total,page:t.page,isFetching:!1});case J:return Object.assign({},e,{statusFilter:t.status});case q:return Object.assign({},e,{items:e.items.map(function(e){return e.id===t.id?Object.assign({},e,{status:t.status===e.status?0:t.status}):e})});case Y:return Object.assign({},e,{items:e.items.map(function(e){return e.id===t.id?Object.assign({},e,{number:t.number}):e})});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(ce.a)({},e,{user:t.user});default:return e}}},me=[s.a],de=Object(o.d)(Object(o.c)(ue),o.a.apply(void 0,me)),he=a(50),fe=a(4),pe=a(237),ge=a(79);var Ee=Object(l.b)(function(e,t){var a=e.auth.user,n=t.authzCheck,r=void 0===n||n,c=!0;return!0===r?c=a&&N(a):Array.isArray(r)&&(c=a&&r.some(function(e){return D(e,a.role)})),{isAuthenticated:!!a,isAllowed:c}},function(e){return{}})(function(e){var t=e.component,a=e.isAuthenticated,n=e.isAllowed,c=Object(ge.a)(e,["component","isAuthenticated","isAllowed"]);return r.a.createElement(he.c,Object.assign({},c,{render:function(e){return a?n?r.a.createElement(t,e):r.a.createElement(he.b,{to:{pathname:"/forbidden",state:{from:e.location}}}):r.a.createElement(he.b,{to:{pathname:"/login",state:{from:e.location}}})}}))}),be=function(e){var t=e.children,a=e.className,n=e.style,c={},i=a?"Container "+a:"Container";return e.hasSidebar&&(c.marginRight=240),r.a.createElement("div",{style:Object.assign(c,n),className:i},t)},ve=a(20),Ce=a(21),Oe=a(23),ye=a(22),je=a(24),ke=a(16),we=a(225),xe=a(42),Se=a(211),Ne=a(212),Fe=a(213),De=a(214),_e=a(215),Ie=a(160),Te=a(107),Ae=a.n(Te),Ue=a(105),Re=a.n(Ue),Be=a(104),Pe=a.n(Be),Me=a(106),Le=a.n(Me),He=a(244),ze=a(243);function Ge(e){return[e.getDate(),e.getMonth()+1,e.getFullYear()].join("/")}function Ke(e){return[e.getHours(),e.getMinutes()].join(":")}function Ve(e){if(!e)return 0;var t=Date.now()-e.getTime(),a=new Date(t);return Math.abs(a.getUTCFullYear()-1970)}var We=a(102),Je=a.n(We),qe=function(e){function t(){var e,a;Object(ve.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(Oe.a)(this,(e=Object(ye.a)(t)).call.apply(e,[this].concat(r)))).handleCopy=function(){a.props.copy(a.props.confession)},a}return Object(je.a)(t,e),Object(Ce.a)(t,[{key:"render",value:function(){return r.a.createElement(He.a,{title:"Copy \u0111\u1ec3 \u0111\u0103ng Facebook"},r.a.createElement(Ie.a,{style:{color:"orange"},"aria-label":"Copy",onClick:this.handleCopy},r.a.createElement(Je.a,{fontSize:"small"})))}}]),t}(r.a.Component),Ye=a(103),Qe=a.n(Ye);var $e=Object(l.b)(function(e){return{}},function(e){return{copy:function(t){var a=function(e){var t=Ge(new Date(e.createdAt));return"#CVNL".concat(e.number,"\n[").concat(t,"] ").concat(e.content,"\n\n---\n")}(t);return Qe()(a).then(function(){e(v("Copied"))})}}})(qe),Xe=Object(fe.a)(function(e){return{card:{margin:e.spacing(1),width:600,"& .MuiCardHeader-root":{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},"& .MuiCardHeader-action":{height:44}},cardApproved:{backgroundColor:"#fbfff8"},cardRejected:{backgroundColor:"#efefef"},cardContent:{paddingTop:0,paddingBottom:0},content:{whiteSpace:"pre-wrap"},actions:{display:"flex",justifyContent:"flex-end",paddingTop:0,paddingBottom:0},numberInput:{padding:e.spacing(1),paddingLeft:0,height:32,display:"flex",alignItems:"center"},numberDisplay:{display:"flex",alignItems:"center",height:32},numberDisplayText:{paddingLeft:0,fontSize:"1rem"},editButton:{padding:e.spacing(1)},approvedButton:{color:"green"},metadata:{color:"rgba(0, 0, 0, 0.54)",lineHeight:"44px"}}})(function(e){function t(e){var a;return Object(ve.a)(this,t),(a=Object(Oe.a)(this,Object(ye.a)(t).call(this,e))).state={showNumberField:!1,number:0},a._onEditButtonClicked=a._onEditButtonClicked.bind(Object(ke.a)(Object(ke.a)(a))),a._onSaveButtonClicked=a._onSaveButtonClicked.bind(Object(ke.a)(Object(ke.a)(a))),a._onNumberInputChanged=a._onNumberInputChanged.bind(Object(ke.a)(Object(ke.a)(a))),a}return Object(je.a)(t,e),Object(Ce.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.confession,n=e.toggleReject,c=e.toggleApprove,i=this.state.showNumberField,l=a.status===k.REJECTED?"secondary":"default",o=a.status===k.APPROVED?t.approvedButton:"",s=a.status===k.APPROVED?Pe.a:Re.a,u=function(e){return[Ge(e),Ke(e)].join(" ")}(new Date(a.createdAt)),m=t.card;a.status===k.APPROVED?m+=" "+t.cardApproved:a.status===k.REJECTED&&(m+=" "+t.cardRejected);var d=r.a.createElement("div",{className:t.numberInput},r.a.createElement(ze.a,{type:"number",placeholder:"1234...",value:this.state.number,onChange:this._onNumberInputChanged,autoFocus:!0}),r.a.createElement(Se.a,{size:"small",color:"primary",onClick:this._onSaveButtonClicked},"L\u01b0u")),h=r.a.createElement("div",{className:t.numberDisplay},r.a.createElement(xe.a,{className:t.numberDisplayText,component:"h5"},a.number||"#"),r.a.createElement(He.a,{title:"S\u1eeda s\u1ed1 th\u1ee9 t\u1ef1"},r.a.createElement(Ie.a,{className:t.editButton,"aria-label":"Edit",onClick:this._onEditButtonClicked},r.a.createElement(Le.a,{fontSize:"small"}))));return r.a.createElement(Ne.a,{className:m},r.a.createElement(Fe.a,{title:i?d:h,action:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:t.metadata},"".concat(a.row," | ").concat(u)),a.number?r.a.createElement($e,{confession:a}):null)}),r.a.createElement(De.a,{className:t.cardContent},r.a.createElement(xe.a,{className:t.content,component:"pre"},a.content)),r.a.createElement(_e.a,{className:t.actions},r.a.createElement(He.a,{title:"T\u1eeb ch\u1ed1i"},r.a.createElement(Ie.a,{onClick:function(){return n(a.id)},color:l,"aria-label":"T\u1eeb ch\u1ed1i"},r.a.createElement(Ae.a,null))),r.a.createElement(He.a,{onClick:function(){return c(a.id)},title:"Duy\u1ec7t"},r.a.createElement(Ie.a,{className:o,"aria-label":"Duy\u1ec7t"},r.a.createElement(s,null)))))}},{key:"_onEditButtonClicked",value:function(){this.setState({showNumberField:!0,number:this.props.confession.number||0})}},{key:"_onSaveButtonClicked",value:function(){this.props.updateNumber(this.props.confession.id,this.state.number),this.setState({showNumberField:!1})}},{key:"_onNumberInputChanged",value:function(e){this.setState({number:parseInt(e.target.value)})}}]),t}(r.a.Component));var Ze=Object(l.b)(function(e){return{}},function(e){return Object(o.b)({toggleApprove:X,toggleReject:Z,updateNumber:ne},e)})(Xe),et=a(239),tt=a(217),at=a(218),nt=a(216),rt=function(e){function t(){var e,a;Object(ve.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(Oe.a)(this,(e=Object(ye.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.applyStatusFilter(parseInt(e.target.value))},a}return Object(je.a)(t,e),Object(Ce.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.statusFilter;return r.a.createElement(nt.a,{component:"fieldset",className:t.formControl},r.a.createElement(tt.a,{"aria-label":"L\u1ecdc",name:"filter",className:t.group,value:String(a),onChange:this.handleChange},r.a.createElement(at.a,{value:"-1",control:r.a.createElement(et.a,null),label:"T\u1ea5t c\u1ea3"}),r.a.createElement(at.a,{value:String(k.REJECTED),control:r.a.createElement(et.a,null),label:"T\u1eeb ch\u1ed1i"}),r.a.createElement(at.a,{value:String(k.APPROVED),control:r.a.createElement(et.a,null),label:"\u0110\xe3 duy\u1ec7t"}),r.a.createElement(at.a,{value:String(k.UNCHECKED),control:r.a.createElement(et.a,null),label:"Ch\u01b0a duy\u1ec7t"})))}}]),t}(r.a.Component),ct=Object(fe.a)(function(e){return{formControl:{margin:e.spacing(3)},group:{margin:"".concat(e.spacing(1),"px 0"),display:"flex",flexDirection:"row"}}})(rt);var it=Object(l.b)(function(e){var t=e.confessions;return{confessions:t.items,statusFilter:t.statusFilter}},function(e){return Object(o.b)({loadPage:ee,applyStatusFilter:ae},e)})(ct),lt=a(12),ot=a(238),st=a(219),ut=a(224),mt=a(221),dt=a(222),ht=a(220);var ft=r.a.memo(function(e){var t=e.loadPage,a=r.a.useState(1),n=Object(lt.a)(a,2),c=n[0],i=n[1],l=r.a.useState(!1),o=Object(lt.a)(l,2),s=o[0],u=o[1],m=function(){return u(!1)};return r.a.createElement("div",null,r.a.createElement(Se.a,{variant:"outlined",color:"primary",onClick:function(){return u(!0)}},"Go"),r.a.createElement(st.a,{open:s,onClose:m,"aria-labelledby":"form-dialog-title"},r.a.createElement(ht.a,{id:"form-dialog-title"},"Chuy\u1ec3n t\u1edbi trang"),r.a.createElement(mt.a,null,r.a.createElement(dt.a,null,"Nh\u1eadp trang mu\u1ed1n chuy\u1ec3n t\u1edbi:"),r.a.createElement(ot.a,{autoFocus:!0,margin:"dense",id:"page",label:"Trang",type:"number",fullWidth:!0,value:c,onChange:function(e){return i(parseInt(e.target.value))}})),r.a.createElement(ut.a,null,r.a.createElement(Se.a,{onClick:m},"Cancel"),r.a.createElement(Se.a,{onClick:function(){m(),t(c-1)},color:"primary"},"Go"))))});var pt=Object(l.b)(function(e){return{}},function(e){return Object(o.b)({loadPage:ee},e)})(ft),gt=function(e){function t(e){var a;return Object(ve.a)(this,t),(a=Object(Oe.a)(this,Object(ye.a)(t).call(this,e)))._onBackButtonClicked=a._onBackButtonClicked.bind(Object(ke.a)(Object(ke.a)(a))),a._onNextButtonClicked=a._onNextButtonClicked.bind(Object(ke.a)(Object(ke.a)(a))),a}return Object(je.a)(t,e),Object(Ce.a)(t,[{key:"componentDidMount",value:function(){this.props.refresh()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.confessions,n=e.isFetching,c=e.total,i=e.page,l=e.refresh,o=Math.ceil(c/w),s=i<1,u=i>=o-1;return r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.header},r.a.createElement(it,null),r.a.createElement(Se.a,{onClick:l},"T\u1ea3i l\u1ea1i")),o>0&&r.a.createElement("div",{className:t.pagination},r.a.createElement(Se.a,{variant:"outlined",color:"primary",disabled:s,onClick:this._onBackButtonClicked},"Back"),r.a.createElement(xe.a,{variant:"body1"},"Trang ".concat(i+1,"/").concat(o," (").concat(c," confessions)")),r.a.createElement("div",{className:t.flexRow},r.a.createElement(pt,null),r.a.createElement(Se.a,{className:t.nextButton,variant:"outlined",color:"primary",disabled:u,onClick:this._onNextButtonClicked},"Next"))),n?r.a.createElement(we.a,null):a.map(function(e){return r.a.createElement(Ze,{key:e.id,confession:e})}),r.a.createElement("br",null),!n&&r.a.createElement(Se.a,{onClick:l},"T\u1ea3i l\u1ea1i"),r.a.createElement("br",null))}},{key:"_onBackButtonClicked",value:function(){this.props.loadPage(this.props.page-1)}},{key:"_onNextButtonClicked",value:function(){this.props.loadPage(this.props.page+1)}}]),t}(r.a.Component),Et=Object(fe.a)(function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},header:{width:"600px",display:"flex",justifyContent:"flex-start",alignItems:"center"},pagination:{width:"600px",display:"flex",justifyContent:"space-between",alignItems:"center"},flexRow:{display:"flex"},nextButton:{marginLeft:e.spacing(1)}}})(gt);var bt=Object(l.b)(function(e){var t=e.confessions;return{confessions:t.items,isFetching:t.isFetching,total:t.total,page:t.page}},function(e){return Object(o.b)({loadPage:ee,refresh:te},e)})(Et);var vt=function(){return r.a.createElement(be,null,r.a.createElement(bt,null))},Ct=a(87),Ot=a(163),yt=a(43);function jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(lt.a)(t,2),r=a[0],c=a[1];return{values:r,setValues:c,handleChange:function(e){e.persist();var t=e.target,a=t.name,n=t.value,r=t.checked,i=t.type;c(function(e){return Object(ce.a)({},e,Object(yt.a)({},a,"checkbox"===i?r:n))})}}}var kt=Object(Ot.a)(function(e){return{container:{display:"flex",alignItems:"center",flexDirection:"column",padding:e.spacing(2)},textField:{marginBottom:e.spacing(2)}}});var wt=Object(l.b)(function(e){return{}},function(e){return Object(o.b)({login:oe},e)})(function(e){var t=e.login,a=kt(),n=r.a.useState(!1),c=Object(lt.a)(n,2),i=c[0],l=c[1],o=jt({username:"",password:""}),s=o.values,u=o.handleChange,m=s.username&&s.password&&!i;function d(e){e.preventDefault(),l(!0),t(s).then(function(){return l(!1)})}return r.a.createElement("form",{onSubmit:d,className:a.container,noValidate:!0,autoComplete:"off"},r.a.createElement(ot.a,{autoFocus:!0,id:"username",name:"username",label:"Username",className:a.textField,value:s.username,onChange:u}),r.a.createElement(ot.a,{type:"password",id:"password",name:"password",label:"Password",className:a.textField,value:s.password,onChange:u}),r.a.createElement(Se.a,{type:"submit",onClick:d,disabled:!m},"Login"),i&&r.a.createElement(we.a,{size:20}))}),xt={CHECKING:1,NOT_LOGGED_IN:2},St=function(e){function t(e){var a;return Object(ve.a)(this,t),(a=Object(Oe.a)(this,Object(ye.a)(t).call(this,e))).state={status:xt.CHECKING},a}return Object(je.a)(t,e),Object(Ce.a)(t,[{key:"componentDidMount",value:function(){this._checkLoginStatus()}},{key:"render",value:function(){var e,t=(this.props.location.state||{from:{pathname:"/"}}).from,a=this.state.status,n=this.props,c=n.classes;if(n.isLoggedIn)return r.a.createElement(he.b,{to:t});switch(a){case xt.CHECKING:e=r.a.createElement("div",{className:c.content},r.a.createElement(xe.a,{variant:"h6"},"Just a moment, we are checking your identity..."),r.a.createElement("br",null),r.a.createElement(we.a,null));break;case xt.NOT_LOGGED_IN:e=r.a.createElement(Ct.a,{className:c.content},r.a.createElement(xe.a,{variant:"h6"},"May we ask you to login?"),r.a.createElement(wt,null))}return r.a.createElement(be,null,e)}},{key:"_checkLoginStatus",value:function(){var e=this;L.getCurrentUser().then(function(t){e.props.setUser(t.data)}).catch(function(){e.setState({status:xt.NOT_LOGGED_IN})})}}]),t}(r.a.Component),Nt=Object(fe.a)({content:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"50vh"}})(St);var Ft=Object(l.b)(function(e){return{isLoggedIn:!!e.auth.user}},function(e){return Object(o.b)({setUser:le},e)})(Nt),Dt=function(e){function t(){return Object(ve.a)(this,t),Object(Oe.a)(this,Object(ye.a)(t).apply(this,arguments))}return Object(je.a)(t,e),Object(Ce.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.userDisplayName;return r.a.createElement(be,null,r.a.createElement(Ct.a,{className:t.content},r.a.createElement(xe.a,{variant:"h4"},"Forbidden!"),r.a.createElement("br",null),r.a.createElement(xe.a,{variant:"subtitle1"},"Sorry ".concat(a,", we have found that you do not have enough permission to view this page. Please ask people around you for help."))))}}]),t}(r.a.Component),_t=Object(fe.a)({content:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"50vh"}})(Dt);var It=Object(l.b)(function(e){var t=e.auth.user;return{userDisplayName:t&&t.name}},function(e){return{}})(_t),Tt=a(223),At=a(229),Ut=a(161),Rt=a(240),Bt=a(78),Pt=a.n(Bt),Mt=a(164),Lt=a(228),Ht=a(226),zt=a(227),Gt=Object(Ot.a)(function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},inline:{display:"inline"},avatar:{marginRight:10,width:64,height:64}}});function Kt(e){var t=e.user,a=Gt(),n=t.accounts?t.accounts[0]:{},c="https://graph.facebook.com/".concat(n.id,"/picture"),i=n.data&&n.data.age_range||{min:0,max:0},l=r.a.useState(),o=Object(lt.a)(l,2),s=o[0],u=o[1],m=r.a.useMemo(function(){return t.actualAge?t.actualAge:Ve(t.birthday&&new Date(t.birthday))||99},[t]);return r.a.createElement(Mt.a,{alignItems:"flex-start",divider:!0},s&&r.a.createElement("img",{src:c+"?height=640",alt:"".concat(t.name,"'s avatar"),onClick:function(){return u(!1)}}),r.a.createElement(Ht.a,{onClick:function(){return u(!0)}},r.a.createElement(zt.a,{alt:"".concat(t.name,"'s avatar"),src:c+"?height=100",className:a.avatar})),r.a.createElement(Lt.a,{primary:t.name,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(xe.a,{component:"span",variant:"body2",className:a.inline,color:"textPrimary"},t.id),r.a.createElement("span",null," \u2014 ","min: ",i.min," - max: ",i.max," - actual: ",m),t.lastActive&&r.a.createElement("span",null," \u2014 ","Active: ",new Date(t.lastActive).toLocaleString()))}))}var Vt=Object(Ot.a)(function(e){return{searchField:{backgroundColor:e.palette.background.paper,border:"1px solid #d4d4d4",borderRadius:15,padding:"0 15px",width:260}}});function Wt(e){var t=e.onSearch,a=e.onClear,n=e.placeholder,c=void 0===n?"Search":n,i=Vt(),l=r.a.useState(""),o=Object(lt.a)(l,2),s=o[0],u=o[1];return r.a.createElement(ze.a,{id:"search",placeholder:c,type:"search",className:i.searchField,margin:"none",variant:"outlined",name:"search",value:s,onChange:function(e){u(e.target.value),e.target.value||a()},onKeyUp:function(e){13===e.keyCode&&e.target.value&&t(e.target.value)}})}var Jt=Object(fe.a)(function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},listWrapper:{overflow:"auto",width:"100%",maxWidth:800,maxHeight:"calc(100vh - 160px)"},list:{width:"100%",maxWidth:800,backgroundColor:e.palette.background.paper},toolbar:{width:800,alignItems:"center"},grow:{flexGrow:999}}})(function(e){function t(e){var a;return Object(ve.a)(this,t),(a=Object(Oe.a)(this,Object(ye.a)(t).call(this,e))).state={isFetching:!0,total:0,femaleUsers:[],maleUsers:[],otherUsers:[],searchUsers:[],showFemale:!0,showMale:!1,showOther:!1,showSearch:!1,showYoung:!1},a._handleFieldChange=a._handleFieldChange.bind(Object(ke.a)(Object(ke.a)(a))),a._handleRefresh=a._handleRefresh.bind(Object(ke.a)(Object(ke.a)(a))),a._handleSearch=a._handleSearch.bind(Object(ke.a)(Object(ke.a)(a))),a._handleSearchClear=a._handleSearchClear.bind(Object(ke.a)(Object(ke.a)(a))),a}return Object(je.a)(t,e),Object(Ce.a)(t,[{key:"componentDidMount",value:function(){this._handleRefresh()}},{key:"render",value:function(){var e,t=this.props.classes,a=this.state,n=a.isFetching,c=a.total,i=a.femaleUsers,l=a.maleUsers,o=a.otherUsers,s=a.searchUsers,u=a.showSearch,m=a.showFemale,d=a.showMale,h=a.showOther,f=a.showYoung;return e=n?r.a.createElement(we.a,null):u?r.a.createElement("div",{className:t.listWrapper},this._showList("Searching",s)):r.a.createElement("div",{className:t.listWrapper},m&&this._showList("Female",i),d&&this._showList("Male",l),h&&this._showList("Others",o)),r.a.createElement("div",{className:t.container},r.a.createElement(Ut.a,{row:!0,className:t.toolbar},r.a.createElement("span",{style:{marginRight:10}},"Total: ",c),r.a.createElement(at.a,{control:r.a.createElement(Rt.a,{name:"showFemale",checked:m,onChange:this._handleFieldChange,value:m}),label:"Female"}),r.a.createElement(at.a,{control:r.a.createElement(Rt.a,{name:"showMale",checked:d,onChange:this._handleFieldChange,value:d}),label:"Male"}),r.a.createElement(at.a,{control:r.a.createElement(Rt.a,{name:"showOther",checked:h,onChange:this._handleFieldChange,value:h}),label:"Other"}),r.a.createElement(at.a,{control:r.a.createElement(Rt.a,{name:"showYoung",checked:f,onChange:this._handleFieldChange,value:f}),label:"Young"}),r.a.createElement(Ie.a,{size:"small",onClick:this._handleRefresh},r.a.createElement(Pt.a,null)),r.a.createElement("div",{className:t.grow}),r.a.createElement(Wt,{onSearch:this._handleSearch,onClear:this._handleSearchClear})),e)}},{key:"_showList",value:function(e,t){var a=this.props.classes,n=t;return this.state.showSearch||this.state.showYoung||(n=t.filter(function(e){return e.actualAge>17})),r.a.createElement(Tt.a,{className:a.list,subheader:r.a.createElement(At.a,null,"".concat(e," (").concat(n.length,")"))},n.map(function(e){return r.a.createElement(Kt,{key:e.id,user:e})}))}},{key:"_handleSearch",value:function(e){var t=this;this.setState({isFetching:!0,searchUsers:[]}),H.getUser(e).then(function(e){return[e.data]}).catch(function(){return[]}).then(function(e){t.setState({isFetching:!1,showSearch:!0,searchUsers:e})})}},{key:"_handleSearchClear",value:function(){this.setState({isFetching:!1,showSearch:!1,searchUsers:[]})}},{key:"_handleRefresh",value:function(){var e=this;this.setState({isFetching:!0,total:0,maleUsers:[],femaleUsers:[],otherUsers:[]}),H.listUsers().then(function(t){var a=[],n=[],r=[];t.data.items.forEach(function(e){e.actualAge=Ve(e.birthday&&new Date(e.birthday))||99,"male"===e.gender?a.push(e):"female"===e.gender?n.push(e):r.push(e)}),e.setState({isFetching:!1,total:t.data.total,maleUsers:a,femaleUsers:n,otherUsers:r})})}},{key:"_handleFieldChange",value:function(e){var t=e.target,a=t.type,n=t.name,r=t.value,c=t.checked;this.setState(Object(yt.a)({},n,"checkbox"===a?c:r))}}]),t}(r.a.Component));function qt(){return r.a.createElement(be,null,r.a.createElement(Jt,null))}var Yt=a(230),Qt=Object(Ot.a)(function(e){return{list:{width:900,backgroundColor:"#fff"}}});function $t(e){var t=e.users,a=e.isFetching,n=Qt();return r.a.createElement(Tt.a,{className:n.list},a?r.a.createElement(we.a,null):t.map(function(e){return r.a.createElement(Kt,{key:e.id,user:e})}))}var Xt=Object(Ot.a)(function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},toolbar:{display:"flex",justifyContent:"space-between",alignItems:"center",width:900,"& label":{marginLeft:5,marginRight:5},"& select":{marginLeft:5}}}});function Zt(e){var t=e.limit,a=e.offset,n=e.filters,r=Object(ce.a)({limit:t,offset:a},n);return r.active&&(r.lastActive=Date.now()-36e5*r.active,delete r.active),"null"===r.gender&&delete r.gender,r.age||delete r.age,G.list(r).then(function(e){return{items:e.data.items,total:e.data.total}})}function ea(){var e=Xt(),t=function(e){var t=e.listFn,a=e.defaultPageSize,n=void 0===a?20:a,c=e.defaultFilters,i=void 0===c?{}:c,l=r.a.useRef(!0),o=r.a.useState([]),s=Object(lt.a)(o,2),u=s[0],m=s[1],d=r.a.useState(!1),h=Object(lt.a)(d,2),f=h[0],p=h[1],g=r.a.useState(0),E=Object(lt.a)(g,2),b=E[0],v=E[1],C=r.a.useState(n),O=Object(lt.a)(C,2),y=O[0],j=O[1],k=r.a.useState(i),w=Object(lt.a)(k,2),x=w[0],S=w[1],N=r.a.useState(0),F=Object(lt.a)(N,2),D=F[0],_=F[1],I=r.a.useMemo(function(){return Math.ceil(D/y)},[y,D]);function T(){var e=y,a=e*b;return p(!0),t({limit:e,offset:a,filters:x}).then(function(e){_(e.total),m(e.items),p(!1)})}return r.a.useEffect(function(){l.current?l.current=!1:T()},[b,y,x]),{items:u,page:b,pageSize:y,total:D,totalPage:I,isFetching:f,filters:x,changePage:function(e){v(e)},changePageSize:function(e){j(e)},refresh:function(){T()},addFilter:function(e){S(function(t){return Object(ce.a)({},t,e)})},setFilters:S}}({listFn:Zt,defaultPageSize:50,defaultFilters:{age:20,gender:"female",active:3}});return r.a.useEffect(t.refresh,[]),r.a.createElement(be,{className:e.container},r.a.createElement("div",{className:e.toolbar},r.a.createElement("div",null,r.a.createElement("label",null,"Min age:",r.a.createElement("select",{value:t.filters.age,onChange:function(e){return t.addFilter({age:parseInt(e.target.value)})}},r.a.createElement("option",{value:"null"},"-- Age --"),r.a.createElement("option",{value:"18"},"18"),r.a.createElement("option",{value:"19"},"19"),r.a.createElement("option",{value:"20"},"20"),r.a.createElement("option",{value:"21"},"21"),r.a.createElement("option",{value:"22"},"22"),r.a.createElement("option",{value:"23"},"23"),r.a.createElement("option",{value:"24"},"24"),r.a.createElement("option",{value:"25"},"25"),r.a.createElement("option",{value:"26"},"26"),r.a.createElement("option",{value:"27"},"27"),r.a.createElement("option",{value:"28"},"28"),r.a.createElement("option",{value:"29"},"29"))),r.a.createElement("label",null,"Active:",r.a.createElement("select",{value:t.filters.active,onChange:function(e){return t.addFilter({active:parseInt(e.target.value)})}},r.a.createElement("option",{value:"1"},"last 1 hour"),r.a.createElement("option",{value:"3"},"last 3 hours"),r.a.createElement("option",{value:"6"},"last 6 hours"),r.a.createElement("option",{value:"12"},"last 12 hours"),r.a.createElement("option",{value:"24"},"last 1 day"),r.a.createElement("option",{value:"48"},"last 2 days"),r.a.createElement("option",{value:"72"},"last 3 days"),r.a.createElement("option",{value:"96"},"last 4 days"),r.a.createElement("option",{value:"120"},"last 5 days"),r.a.createElement("option",{value:"144"},"last 6 days"),r.a.createElement("option",{value:"168"},"last 7 days"),r.a.createElement("option",{value:"192"},"last 8 days"),r.a.createElement("option",{value:"216"},"last 9 days"))),r.a.createElement("label",null,"Gender:",r.a.createElement("select",{value:t.filters.gender,onChange:function(e){return t.addFilter({gender:e.target.value})}},r.a.createElement("option",{value:"null"},"-- Gender --"),r.a.createElement("option",{value:"female"},"female"),r.a.createElement("option",{value:"male"},"male"),r.a.createElement("option",{value:"other"},"other")))),r.a.createElement("div",null,r.a.createElement("span",null,t.total," (",t.page+1," / ",t.totalPage,")"),r.a.createElement("input",{style:{marginLeft:10,width:50},onChange:function(e){return e.target.value&&t.changePage(parseInt(e.target.value)-1)}}),r.a.createElement("select",{value:t.pageSize,onChange:function(e){return t.changePageSize(parseInt(e.target.value))}},r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"20"},"20"),r.a.createElement("option",{value:"50"},"50"),r.a.createElement("option",{value:"100"},"100"),r.a.createElement("option",{value:"200"},"200"))),r.a.createElement("div",null,r.a.createElement(Ie.a,{onClick:t.refresh},r.a.createElement(Pt.a,null)),r.a.createElement(Yt.a,{size:"small"},r.a.createElement(Se.a,{disabled:0===t.page,onClick:function(){return t.changePage(t.page-1)}},"Back"),r.a.createElement(Se.a,{disabled:t.page===t.totalPage-1,onClick:function(){return t.changePage(t.page+1)}},"Next")))),r.a.createElement($t,{users:t.items,isFetching:t.isFetching}))}var ta=function(e){function t(){var e,a;Object(ve.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(Oe.a)(this,(e=Object(ye.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){a.handleClose(),a.props.handleSubmit()},a}return Object(je.a)(t,e),Object(Ce.a)(t,[{key:"render",value:function(){var e=this.props,t=e.anchorElement,a=e.dialogTitleText,n=e.dialogBodyText,c=e.dialogActionText;return r.a.createElement(r.a.Fragment,null,r.a.createElement(t,{onClick:this.handleClickOpen}),r.a.createElement(st.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(ht.a,{id:"alert-dialog-title"},a),r.a.createElement(mt.a,null,r.a.createElement(dt.a,{id:"alert-dialog-description"},n)),r.a.createElement(ut.a,null,r.a.createElement(Se.a,{onClick:this.handleClose,color:"primary",autoFocus:!0},"Cancel"),r.a.createElement(Se.a,{onClick:this.handleSubmit,color:"secondary"},c))))}}]),t}(r.a.Component),aa=Object(fe.a)(function(e){return{}})(ta);var na=Object(l.b)(function(e){return{}},function(e){return{onUnblockSuccess:function(){e(v("M\u1edf kh\xf3a th\xe0nh c\xf4ng"))},onUnblockFailure:function(){e(v("C\xf3 l\u1ed7i x\u1ea3y ra!"))}}})(function(e){var t=e.code,a=e.disabled,n=e.onUnblockSuccess,c=e.onUnblockFailure;return r.a.createElement(aa,{anchorElement:function(e){var t=e.onClick;return r.a.createElement(Se.a,{variant:"outlined",color:"primary",onClick:t,disabled:a},"M\u1edf kh\xf3a")},dialogTitleText:"M\u1edf kh\xf3a t\xe0i kho\u1ea3n",dialogBodyText:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n m\u1edf kh\xf3a t\xe0i kho\u1ea3n n\xe0y?",dialogActionText:"M\u1edf kh\xf3a",handleSubmit:function(){z.unblockUser(t.toLowerCase()).then(n).catch(c)}})}),ra=Object(Ot.a)(function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},content:Object(ce.a)({},e.mixins.gutters(),{marginTop:e.spacing(2),paddingTop:e.spacing(2),paddingBottom:e.spacing(2),width:800})}});var ca=function(){var e,t=ra(),a=r.a.useState(),n=Object(lt.a)(a,2),c=n[0],i=n[1],l=r.a.useState(),o=Object(lt.a)(l,2),s=o[0],u=o[1],m=r.a.useState(!1),d=Object(lt.a)(m,2),h=d[0],f=d[1];return r.a.useEffect(function(){c?(f(!0),u(null),z.getUserProfile(c.toLowerCase()).then(function(e){u(e.data),f(!1)}).catch(function(){f(!1)})):u(null)},[c]),e=h?r.a.createElement(we.a,null):s?r.a.createElement("div",null,r.a.createElement(xe.a,null,"H\xe0nh \u0111\u1ed9ng:"),r.a.createElement(na,{code:c,disabled:!s.messages.total}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.a,null,"Tin nh\u1eafn g\u1ea7n \u0111\xe2y (",s.messages.total,"):"),r.a.createElement("ul",null,s.messages.items.map(function(e){return r.a.createElement("li",null,e.content)}))):r.a.createElement(xe.a,null,"Kh\xf4ng t\xecm th\u1ea5y user"),r.a.createElement("div",{className:t.container},r.a.createElement(Wt,{placeholder:"Nh\u1eadp code...",onSearch:function(e){return i(e)},onClear:function(){return i()}}),r.a.createElement(Ct.a,{className:t.content},e))};var ia=function(){return r.a.createElement(be,null,r.a.createElement(ca,null))},la=a(231),oa=a(110),sa=a.n(oa),ua=Object(Ot.a)(function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},inline:{display:"inline"},avatar:{marginRight:10,width:64,height:64}}});function ma(e){var t=e.user,a=e.onRemove,n=ua(),c="https://graph.facebook.com/".concat(t.accounts[0].id,"/picture"),i=t.accounts[0].data&&t.accounts[0].data.age_range||{min:0,max:0},l=Ve(t.birthday&&new Date(t.birthday)),o=r.a.useState(),s=Object(lt.a)(o,2),u=s[0],m=s[1];return r.a.createElement(Mt.a,{alignItems:"flex-start",divider:!0},u&&r.a.createElement("img",{src:c+"?height=640",alt:"".concat(t.name,"'s avatar"),onClick:function(){return m(!1)}}),r.a.createElement(Ht.a,{onClick:function(){return m(!0)}},r.a.createElement(zt.a,{alt:"".concat(t.name,"'s avatar"),src:c+"?height=100",className:n.avatar})),r.a.createElement(Lt.a,{primary:t.name,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(xe.a,{component:"span",variant:"body2",className:n.inline,color:"textPrimary"},t.id),r.a.createElement("span",null," \u2014 ","min: ",i.min," - max: ",i.max," - actual: ",l))}),r.a.createElement(la.a,null,r.a.createElement(Ie.a,{onClick:function(){return a(t)}},r.a.createElement(sa.a,null))))}var da=Object(Ot.a)(function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},form:{width:700,marginBottom:e.spacing(2),display:"flex",justifyContent:"space-between"},textField:{width:300},list:{width:800,backgroundColor:e.palette.background.paper}}});var ha=function(){var e=da(),t=jt(),a=t.values,n=t.handleChange,c=r.a.useState([]),i=Object(lt.a)(c,2),l=i[0],o=i[1],s=r.a.useState(!1),u=Object(lt.a)(s,2),m=u[0],d=u[1];function h(){d(!0),H.listMappings().then(function(e){var t=e.data;return Promise.all(Object.keys(t).map(function(e){return a=e,n=t[e],H.getUser(a).then(function(e){return e.data}).then(function(e){return e.name=e.name+" - ".concat(n),e});var a,n}))}).then(o).then(function(){return d(!1)})}function f(e){d(!0),H.removeMapping(e.id).then(h)}return r.a.useEffect(h,[]),r.a.createElement(be,{className:e.container},r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),d(!0),H.addMapping({waiter:a.waiter,target:a.target}).then(h)}},r.a.createElement(ot.a,{className:e.textField,name:"waiter",placeholder:"Waiter",onChange:n,required:!0}),r.a.createElement(ot.a,{className:e.textField,name:"target",placeholder:"Target",onChange:n,required:!0}),r.a.createElement(Se.a,{type:"submit"},"Add")),m?r.a.createElement(we.a,null):r.a.createElement("div",null,r.a.createElement(Tt.a,{className:e.list,subheader:r.a.createElement(At.a,null,"Users (".concat(l.length,")"))},l.map(function(e){return r.a.createElement(ma,{key:e.id,user:e,onRemove:f})}))))},fa=Object(Ot.a)(function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},form:{width:600,marginBottom:e.spacing(2),display:"flex",justifyContent:"space-between"},textField:{width:300},message:{width:600,padding:e.spacing(3)}}});var pa=function(){var e=fa(),t=jt({forceClose:!1}),a=t.values,n=t.handleChange,c=r.a.useState(!1),i=Object(lt.a)(c,2),l=i[0],o=i[1],s=r.a.useState(),u=Object(lt.a)(s,2),m=u[0],d=u[1];return r.a.createElement(be,{className:e.container},r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),o(!0),d("");var t=a.forceClose?"forceUserCloseChat":"blockUser";H[t](a.userId).then(function(e){d(JSON.stringify(e.data)),o(!1)}).catch(function(){d("ERROR!"),o(!1)})}},r.a.createElement(ot.a,{className:e.textField,name:"userId",placeholder:"User ID",onChange:n,required:!0}),r.a.createElement(at.a,{control:r.a.createElement(Rt.a,{name:"forceClose",checked:a.forceClose,onChange:n,color:"primary"}),label:"Force close"}),r.a.createElement(Se.a,{type:"submit"},a.forceClose?"Close":"Block")),r.a.createElement(Ct.a,{className:e.message},l?r.a.createElement(we.a,null):r.a.createElement(xe.a,{variant:"caption"},m)))};function ga(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,{exact:!0,path:"/",component:vt}),r.a.createElement(Ee,{exact:!0,path:"/online-users",authzCheck:[x.ADMIN],component:qt}),r.a.createElement(Ee,{exact:!0,path:"/active-users",authzCheck:[x.ADMIN],component:ea}),r.a.createElement(Ee,{exact:!0,path:"/mappings",authzCheck:[x.ADMIN],component:ha}),r.a.createElement(Ee,{exact:!0,path:"/block-user",authzCheck:[x.ADMIN],component:pa}),r.a.createElement(Ee,{exact:!0,path:"/moderate",authzCheck:[x.MODERATOR],component:ia}),r.a.createElement(Ee,{exact:!0,path:"/forbidden",authzCheck:!1,component:It}),r.a.createElement(he.c,{exact:!0,path:"/login",component:Ft}))}var Ea=a(242),ba=a(111),va=a.n(ba),Ca=a(232),Oa=a(233),ya=a(112),ja=a.n(ya),ka=a(65),wa=a.n(ka),xa=a(113),Sa=a.n(xa),Na=a(56);var Fa=function(e){var t=e.children,a=e.to,n=Object(ge.a)(e,["children","to"]);return r.a.createElement(Mt.a,Object.assign({button:!0,to:a,component:Na.a},n),t)};var Da=Object(fe.a)(function(e){return{drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(ce.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"})}})(function(e){var t=e.classes,a=e.open,n=e.isAdmin,c=e.closeSidebar;return r.a.createElement(Ea.a,{className:t.drawer,variant:"persistent",anchor:"left",open:a,classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement(Ie.a,{onClick:c},r.a.createElement(va.a,null))),r.a.createElement(Ca.a,null),r.a.createElement(Tt.a,null,r.a.createElement(Fa,{to:"/"},r.a.createElement(Oa.a,null,r.a.createElement(ja.a,null)),r.a.createElement(Lt.a,{primary:"Home"})),r.a.createElement(Fa,{to:"/moderate"},r.a.createElement(Oa.a,null,r.a.createElement(Sa.a,null)),r.a.createElement(Lt.a,{primary:"Moderate"})),n&&r.a.createElement(Fa,{to:"/online-users"},r.a.createElement(Oa.a,null,r.a.createElement(wa.a,null)),r.a.createElement(Lt.a,{primary:"Online Users"})),n&&r.a.createElement(Fa,{to:"/active-users"},r.a.createElement(Oa.a,null,r.a.createElement(wa.a,null)),r.a.createElement(Lt.a,{primary:"Active Users"})),n&&r.a.createElement(Fa,{to:"/mappings"},r.a.createElement(Oa.a,null,r.a.createElement(wa.a,null)),r.a.createElement(Lt.a,{primary:"Mappings"})),n&&r.a.createElement(Fa,{to:"/block-user"},r.a.createElement(Oa.a,null,r.a.createElement(wa.a,null)),r.a.createElement(Lt.a,{primary:"Block User"}))))});var _a=Object(l.b)(function(e){var t=e.ui.sidebarOpened,a=e.auth.user;return{open:t,isAdmin:a&&F(a)}},function(e){return{closeSidebar:function(){e({type:m})}}})(Da),Ia=a(63),Ta=a.n(Ia),Aa=a(235),Ua=a(236),Ra=a(115),Ba=a.n(Ra),Pa=a(117),Ma=a(234),La=a(114),Ha=a.n(La);var za=Object(l.b)(function(e){var t=e.auth.user;return{displayName:t&&t.name}},function(e){return{handleLogout:function(){e(function(e){_(),window.location.reload()})}}})(function(e){var t=e.displayName,a=e.handleLogout,n=r.a.useState(),c=Object(lt.a)(n,2),i=c[0],l=c[1];return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(xe.a,{variant:"subtitle1",color:"inherit"},"Hi, ",t),r.a.createElement(Ie.a,{edge:"end","aria-label":"account of current user","aria-controls":"menu-user","aria-haspopup":"true",onClick:function(e){return l(e.target)},color:"inherit"},r.a.createElement(Ha.a,null)),r.a.createElement(Pa.a,{anchorEl:i,anchorOrigin:{vertical:"bottom",horizontal:"right"},id:"menu-user",keepMounted:!0,transformOrigin:{vertical:"bottom",horizontal:"right"},open:!!i,onClose:function(){return l(null)}},r.a.createElement(Ma.a,{onClick:a},"Logout"))):null});var Ga=Object(fe.a)(function(e){return{appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),zIndex:e.zIndex.drawer+1},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:20},hide:{display:"none"},toolbar:{display:"flex",paddingRight:20},grow:{flexGrow:999}}})(function(e){var t=e.classes,a=e.sidebarOpened,n=e.openSidebar;return r.a.createElement(Aa.a,{position:"fixed",className:Ta()(t.appBar,Object(yt.a)({},t.appBarShift,a))},r.a.createElement(Ua.a,{disableGutters:!a,className:t.toolbar},r.a.createElement(Ie.a,{color:"inherit","aria-label":"Open sidebar",onClick:n,className:Ta()(t.menuButton,a&&t.hide)},r.a.createElement(Ba.a,null)),r.a.createElement(xe.a,{variant:"h6",color:"inherit",noWrap:!0},"CVNL Admin"),r.a.createElement("div",{className:t.grow}),r.a.createElement(za,null)))});var Ka=Object(l.b)(function(e){return{sidebarOpened:e.ui.sidebarOpened}},function(e){return{openSidebar:function(){e({type:u})}}})(Ga);var Va=Object(fe.a)(function(e){return{drawerHeader:Object(ce.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}})(Object(l.b)(function(e){return{sidebarOpened:e.ui.sidebarOpened}})(function(e){var t=e.classes,a=e.sidebarOpened,n=e.children;return r.a.createElement("main",{className:Ta()(t.content,Object(yt.a)({},t.contentShift,a))},r.a.createElement("div",{className:t.drawerHeader}),n)})),Wa=a(241),Ja=a(116),qa=a.n(Ja);var Ya=Object(fe.a)(function(e){return{close:{padding:e.spacing(.5)}}})(function(e){var t=e.classes,a=e.messageText,n=e.messageKey,c=e.opened,i=e.onExited,l=e.onClosed;return r.a.createElement(Wa.a,{key:n,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:c,autoHideDuration:6e3,onClose:l,onExited:i,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},a),action:[r.a.createElement(Ie.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:l},r.a.createElement(qa.a,null))]})});var Qa=Object(l.b)(function(e){var t=e.notification,a=t.messageText,n=t.messageKey;return{opened:t.opened,messageText:a,messageKey:n}},function(e){return{onExited:function(){e(C())},onClosed:function(t,a){"clickaway"!==a&&e(b())}}})(Ya);var $a=Object(fe.a)(function(){return{root:{display:"flex"}}})(function(e){var t=e.classes;return r.a.createElement(he.a,{basename:j},r.a.createElement("div",{className:t.root},r.a.createElement(pe.a,null),r.a.createElement(Ka,null),r.a.createElement(_a,null),r.a.createElement(Va,null,r.a.createElement(ga,null)),r.a.createElement(Qa,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(158);i.a.render(r.a.createElement(function(){return r.a.createElement(l.a,{store:de},r.a.createElement($a,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[135,1,2]]]);