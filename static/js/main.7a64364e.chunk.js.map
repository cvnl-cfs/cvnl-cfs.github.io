{"version":3,"sources":["actions/ui.js","reducers/ui.js","actions/notification.js","reducers/notification.js","config.js","constants.js","core/storage.js","core/auth.js","core/http-client.js","core/api/index.js","actions/confessions.js","reducers/confessions.js","actions/auth.js","reducers/auth.js","reducers/index.js","store/index.js","components/PrivateRoute/index.js","components/PrivateRoute/PrivateRoute.js","components/Container.js","core/utils.js","components/ConfessionCopyContent/ConfessionCopyContent.js","components/ConfessionCopyContent/index.js","components/ConfessionListItem/ConfessionListItem.js","components/ConfessionListItem/index.js","components/ConfessionListFilter/ConfessionListFilter.js","components/ConfessionListFilter/index.js","components/GotoPage/GotoPage.js","components/GotoPage/index.js","components/ConfessionList/ConfessionList.js","components/ConfessionList/index.js","components/HomeView/index.js","components/HomeView/HomeView.js","hooks/useForm.js","components/LoginForm/LoginForm.js","components/LoginForm/index.js","components/LoginView/LoginView.js","components/LoginView/index.js","components/ForbiddenView/ForbiddenView.js","components/ForbiddenView/index.js","components/UserListItem.js","components/SearchField/index.js","components/OnlineUserList.js","components/OnlineUsersView.js","components/UserList.js","components/ActiveUsersView.js","hooks/useList.js","components/ConfirmButton/ConfirmButton.js","components/ConfirmButton/index.js","components/UnblockUserButton/index.js","components/UnblockUserButton/UnblockUserButton.js","components/ModeratePanel/ModeratePanel.js","components/ModeratePanel/index.js","components/ModerateView/index.js","components/ModerateView/ModerateView.js","components/MappingView/MappingUserListItem.js","components/MappingView/MappingView.js","components/MappingView/index.js","components/BlockUserView/BlockUserView.js","components/BlockUserView/index.js","components/Content.js","components/SidebarMenuItem/index.js","components/SidebarMenuItem/SidebarMenuItem.js","components/Sidebar/Sidebar.js","components/Sidebar/index.js","components/HeaderCurrentUser/index.js","components/HeaderCurrentUser/HeaderCurrentUser.js","components/Header/Header.js","components/Header/index.js","components/App/ContentWrapper.js","components/Notification/Notification.js","components/Notification/index.js","components/App/App.js","serviceWorker.js","index.js","components/App/index.js"],"names":["SHOW_SIDEBAR","HIDE_SIDEBAR","initialState","sidebarOpened","SHOW","HIDE","SET","queue","currentMessageKey","hide","type","notify","message","dispatch","getState","opened","notification","push","processQueue","length","shift","messageText","messageKey","SERVER_URL","process","BASE_DIR","Status","UNCHECKED","REJECTED","APPROVED","PAGE_SIZE","UserRole","ADMIN","MODERATOR","window","isAllowed","user","isRole","role","isModerator","isAdmin","toCheckRole","setToken","token","storage","setItem","JSON_HEADER","Content-Type","httpGet","path","options","arguments","undefined","httpClient","Object","assign","headers","withAuthHeader","mode","httpPost","body","method","JSON","stringify","url","URL","concat","qs","keys","forEach","key","value","searchParams","append","fetch","then","responseToJson","validateResponse","resp","ok","json","Promise","reject","error_code","getItem","authorization","confessionApi","list","_ref","_ref$limit","limit","_ref$offset","offset","status","update","confessionId","confession","authApi","getCurrentUser","login","_ref2","username","password","adminApi","listUsers","getUser","userId","blockUser","forceUserCloseChat","listMappings","addMapping","_ref3","waiter","target","removeMapping","httpDelete","modApi","unblockUser","code","getUserProfile","activeUserApi","_ref4","_ref4$limit","_ref4$offset","gender","lastActive","age","lastNumber","FETCH_REQUEST","FETCH_SUCCESS","SET_STATUS_FILTER","TOGGLE_STATUS","SET_NUMBER","toggleStatus","id","setNumberWithLast","number","setNumber","toggleApprove","confessions","items","filter","item","newStatus","toggleReject","loadPage","page","statusFilter","query","total","fetchSuccess","data","refresh","applyStatusFilter","setStatusFilter","updateNumber","isFetching","SET_USER","setUser","catch","reducers","ui","state","action","map","auth","objectSpread","middlewares","thunk","store","createStore","combineReducers","applyMiddleware","apply","connect","ownProps","_ownProps$authzCheck","authzCheck","Array","isArray","some","isAuthenticated","Component","component","rest","objectWithoutProperties","react_default","a","createElement","react_router","render","props","to","pathname","from","location","Container","children","className","style","ownStyle","ownClassName","hasSidebar","marginRight","formatDate","date","getDate","getMonth","getFullYear","join","formatTime","getHours","getMinutes","calculateAge","birthday","ageDifMs","Date","now","getTime","ageDate","Math","abs","getUTCFullYear","ConfessionCopyContent","handleCopy","_this","copy","Tooltip","title","IconButton","color","aria-label","onClick","this","FilterNone_default","fontSize","React","text","createdAt","content","buildPost","copyClipboard","useStyles","withStyles","theme","card","margin","spacing","width","& .MuiCardHeader-root","paddingTop","paddingBottom","& .MuiCardHeader-action","height","cardApproved","backgroundColor","cardRejected","cardContent","whiteSpace","actions","display","justifyContent","numberInput","padding","paddingLeft","alignItems","numberDisplay","numberDisplayText","editButton","approvedButton","metadata","lineHeight","ConfessionListItem","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","showNumberField","_onEditButtonClicked","bind","assertThisInitialized","_onSaveButtonClicked","_onNumberInputChanged","_this$props","classes","rejectColor","approvedClassName","ApproveComponent","ApprovedIcon","ApproveIcon","formateDateTime","InputBase","placeholder","onChange","autoFocus","Button","size","Typography","Edit_default","Card","CardHeader","Fragment","row","components_ConfessionCopyContent","CardContent","CardActions","ThumbDown_default","setState","event","parseInt","bindActionCreators","ConfessionListFilter","handleChange","FormControl","formControl","RadioGroup","name","group","String","FormControlLabel","control","Radio","label","flexDirection","_state$confessions","memo","_React$useState","useState","_React$useState2","slicedToArray","setPage","_React$useState3","_React$useState4","open","setOpen","handleClose","variant","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","fullWidth","DialogActions","GotoPage","ConfessionList","_onBackButtonClicked","_onNextButtonClicked","totalPage","ceil","disableBack","disableNext","container","header","components_ConfessionListFilter","pagination","disabled","flexRow","components_GotoPage","nextButton","CircularProgress","cfs","components_ConfessionListItem","marginLeft","HomeView","components_Container","components_ConfessionList","useForm","defaultValues","_useState","_useState2","values","setValues","persist","_event$target","checked","defineProperty","makeStyles","textField","marginBottom","isLoading","setIsLoading","_useForm","submitEnabled","handleSubmit","preventDefault","onSubmit","noValidate","autoComplete","CHECKING","NOT_LOGGED_IN","LoginView","_checkLoginStatus","isLoggedIn","Paper","components_LoginForm","_this2","minHeight","ForbiddenView","userDisplayName","inline","avatar","UserListItem","account","accounts","avatarUrl","ageRange","age_range","min","max","isBigAvatar","setIsBigAvatar","actualAge","useMemo","ListItem","divider","src","alt","ListItemAvatar","Avatar","ListItemText","primary","secondary","toLocaleString","searchField","palette","background","paper","border","borderRadius","SearchField","onSearch","onClear","_ref$placeholder","setQuery","onKeyUp","keyCode","listWrapper","overflow","maxWidth","maxHeight","toolbar","grow","flexGrow","OnlineUserList","femaleUsers","maleUsers","otherUsers","searchUsers","showFemale","showMale","showOther","showSearch","showYoung","_handleFieldChange","_handleRefresh","_handleSearch","_handleSearchClear","_this$state","_showList","FormGroup","Checkbox","Refresh_default","users","displayUsers","List","subheader","ListSubheader","search","_this3","OnlineUsersView","components_OnlineUserList","& label","& select","listFn","filters","listOptions","active","ActiveUsersView","_ref$defaultPageSize","defaultPageSize","_ref$defaultFilters","defaultFilters","firstRun","useRef","setItems","setIsFetching","_React$useState5","_React$useState6","_React$useState7","_React$useState8","pageSize","setPageSize","_React$useState9","_React$useState10","setFilters","_React$useState11","_React$useState12","setTotal","load","useEffect","current","changePage","changePageSize","addFilter","useList","ButtonGroup","UserList_OnlineUserList","ConfirmButton","handleClickOpen","AnchorElement","anchorElement","dialogTitleText","dialogBodyText","dialogActionText","aria-describedby","onUnblockSuccess","onUnblockFailure","components_ConfirmButton","toLowerCase","mixins","gutters","marginTop","ModeratePanel","setCode","components_UnblockUserButton","messages","ModerateView","components_ModeratePanel","MappingUserListItem","onRemove","ListItemSecondaryAction","Delete_default","form","MappingView","setUsers","loadData","mappings","all","handleRemove","required","BlockUserView","forceClose","setMessage","Content","components_PrivateRoute","exact","SidebarMenuItem","restProps","button","Link","drawer","flexShrink","drawerPaper","drawerHeader","closeSidebar","Drawer","anchor","ChevronLeft_default","Divider","components_SidebarMenuItem","ListItemIcon","Home_default","VerifiedUser_default","People_default","Sidebar","displayName","handleLogout","reload","anchorEl","setAnchorEl","edge","aria-controls","aria-haspopup","evt","AccountCircle_default","Menu_Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","zIndex","appBarShift","easeOut","enteringScreen","menuButton","paddingRight","openSidebar","AppBar","position","classNames","Toolbar","disableGutters","Menu_default","noWrap","components_HeaderCurrentUser","Header","contentShift","close","onExited","onClosed","Snackbar","autoHideDuration","ContentProps","Close_default","_state$notification","reason","Notification","root","basename","CssBaseline","components_Header","components_Sidebar","App_ContentWrapper","components_Notification","Boolean","hostname","match","ReactDOM","es","App_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7a64364e.chunk.js","sourcesContent":["export const SHOW_SIDEBAR = 'SHOW_SIDEBAR';\nexport const HIDE_SIDEBAR = 'HIDE_SIDEBAR';\n\nexport function showSidebar() {\n  return {\n    type: SHOW_SIDEBAR,\n  };\n}\n\nexport function hideSidebar() {\n  return {\n    type: HIDE_SIDEBAR,\n  };\n}\n","import {\n  SHOW_SIDEBAR,\n  HIDE_SIDEBAR,\n} from 'src/actions/ui';\n\nconst initialState = {\n  sidebarOpened: true,\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case SHOW_SIDEBAR:\n      return Object.assign({}, state, {\n        sidebarOpened: true,\n      });\n\n    case HIDE_SIDEBAR:\n      return Object.assign({}, state, {\n        sidebarOpened: false,\n      });\n\n    default:\n      return state;\n  }\n}\n","export const SHOW = 'NOTIFICATION_SHOW';\nexport const HIDE = 'NOTIFICATION_HIDE';\nexport const SET = 'NOTIFICATION_SET';\n\nconst queue = [];\nlet currentMessageKey = 0;\n\nexport function show() {\n  return {\n    type: SHOW,\n  };\n}\n\nexport function hide() {\n  return {\n    type: HIDE,\n  };\n}\n\nexport function set(message) {\n  return {\n    type: SET,\n    messageText: message,\n    messageKey: ++currentMessageKey,\n  };\n}\n\nexport function notify(message) {\n  return (dispatch, getState) => {\n    const { opened } = getState().notification;\n\n    queue.push(message);\n\n    if (opened) {\n      dispatch(hide());\n    } else {\n      dispatch(processQueue());\n    }\n  };\n}\n\nexport function processQueue() {\n  return (dispatch) => {\n    if (queue.length) {\n      dispatch(set(queue.shift()));\n      dispatch(show());\n    }\n  };\n}\n","import {\n  SHOW,\n  HIDE,\n  SET,\n} from 'src/actions/notification';\n\nconst initialState = {\n  opened: false,\n  messageText: '',\n  messageKey: '',\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case SHOW:\n      return Object.assign({}, state, {\n        opened: true,\n      });\n\n    case HIDE:\n      return Object.assign({}, state, {\n        opened: false,\n      });\n\n    case SET:\n      return Object.assign({}, state, {\n        messageKey: action.messageKey,\n        messageText: action.messageText,\n      });\n\n    default:\n      return state;\n  }\n}\n","export const SERVER_URL = process.env.REACT_APP_SERVER_URL;\nexport const BASE_DIR = process.env.REACT_APP_BASE_DIR;\n","export const Status = {\n  UNCHECKED: 0,\n  REJECTED: 1,\n  APPROVED: 2,\n};\n\nexport const PAGE_SIZE = 20;\n\nexport const UserRole = {\n  ADMIN: 1,\n  MODERATOR: 2,\n};\n","export default window.localStorage;\n","import { UserRole } from 'src/constants';\nimport storage from './storage';\n\nexport function isAllowed(user) {\n  return isModerator(user) || isAdmin(user);\n}\n\nexport function isAdmin(user) {\n  return isRole(UserRole.ADMIN, user.role);\n}\n\nexport function isModerator(user) {\n  return isRole(UserRole.MODERATOR, user.role);\n}\n\nexport function isRole(role, toCheckRole) {\n  return toCheckRole > 0 && (toCheckRole & role) === role;\n}\n\nexport function getToken() {\n  return storage.getItem('token');\n}\n\nexport function setToken(token) {\n  storage.setItem('token', token);\n}\n","import { SERVER_URL } from '../config';\nimport { getToken } from './auth';\n\nconst JSON_HEADER = {\n  'Content-Type': 'application/json'\n};\n\nexport function httpGet(path, options = {}) {\n  return httpClient(path, Object.assign({\n    headers: withAuthHeader(JSON_HEADER),\n    mode: 'cors',\n  }, options));\n}\n\nexport function httpPost(path, body, options = {}) {\n  return httpClient(path, Object.assign({\n    method: 'POST',\n    body: JSON.stringify(body),\n    headers: withAuthHeader(JSON_HEADER),\n    mode: 'cors',\n  }, options));\n}\n\nexport function httpDelete(path, options = {}) {\n  return httpClient(path, Object.assign({\n    method: 'DELETE',\n    headers: withAuthHeader(JSON_HEADER),\n    mode: 'cors',\n  }, options));\n}\n\nfunction httpClient(path, options) {\n  const url = new URL(`${SERVER_URL}${path}`);\n\n  if (options.qs) {\n    Object.keys(options.qs).forEach((key) => {\n      const value = options.qs[key];\n\n      if (value !== undefined) {\n        url.searchParams.append(key, value);\n      }\n    });\n  }\n\n  return fetch(url, options)\n    .then(responseToJson)\n    .then(validateResponse);\n}\n\nfunction responseToJson(resp) {\n  if (resp.ok) {\n    return resp.json();\n  }\n\n  return Promise.reject(resp);\n}\n\nfunction validateResponse(resp) {\n  if (resp.error_code) {\n    return Promise.reject(resp);\n  }\n\n  return resp;\n}\n\nfunction withAuthHeader(headers) {\n  const token = getToken();\n\n  if (token) {\n    return Object.assign({\n      authorization: 'bearer ' + token,\n    }, headers);\n  }\n\n  return headers;\n}\n","\nimport { httpGet, httpPost, httpDelete } from '../http-client';\n\nexport const confessionApi = {\n  list({ limit = 10, offset = 0, status } = {}) {\n    return httpGet('/confessions', {\n      qs: { limit, offset, status }\n    });\n  },\n\n  update(confessionId, confession) {\n    return httpPost(`/confessions/${confessionId}`, confession);\n  },\n};\n\nexport const authApi = {\n  getCurrentUser() {\n    return httpGet('/auth/user');\n  },\n\n  login({ username, password }) {\n    return httpPost('/auth/login', { username, password });\n  },\n};\n\nexport const adminApi = {\n  listUsers() {\n    return httpGet('/admin/users');\n  },\n\n  getUser(userId) {\n    return httpGet(`/admin/users/${userId}`);\n  },\n\n  blockUser(userId) {\n    return httpPost(`/admin/users/${userId}/block`);\n  },\n\n  forceUserCloseChat(userId) {\n    return httpPost(`/admin/users/${userId}/closechat`);\n  },\n\n  listMappings() {\n    return httpGet('/admin/mappings');\n  },\n\n  addMapping({ waiter, target }) {\n    return httpPost('/admin/mappings', { waiter, target });\n  },\n\n  removeMapping(target) {\n    return httpDelete(`/admin/mappings/${target}`);\n  },\n};\n\nexport const modApi = {\n  unblockUser(code) {\n    return httpPost(`/mod/users/${code}/unblock`);\n  },\n\n  getUserProfile(code) {\n    return httpGet(`/mod/users/${code}`);\n  },\n};\n\nexport const activeUserApi = {\n  list({ limit = 10, offset = 0, gender, lastActive, age } = {}) {\n    return httpGet('/active-users/list', {\n      qs: { limit, offset, gender, lastActive, age }\n    });\n  },\n};\n","import { confessionApi } from 'src/core/api';\nimport { Status, PAGE_SIZE } from 'src/constants';\n\nlet lastNumber = 0;\n\nexport const FETCH_REQUEST = 'C_FETCH_REQUEST';\nexport const FETCH_SUCCESS = 'C_FETCH_SUCCESS';\nexport const SET_STATUS_FILTER = 'C_SET_STATUS_FILTER';\nexport const TOGGLE_STATUS = 'C_TOGGLE_STATUS';\nexport const SET_NUMBER = 'C_SET_NUMBER';\n\nexport function fetchRequest() {\n  return {\n    type: FETCH_REQUEST,\n  };\n}\n\nexport function fetchSuccess(items, total, page) {\n  return {\n    type: FETCH_SUCCESS,\n    items,\n    total,\n    page,\n  };\n}\n\nexport function setStatusFilter(status) {\n  return {\n    type: SET_STATUS_FILTER,\n    status,\n  };\n}\n\nexport function toggleStatus(id, status) {\n  return {\n    type: TOGGLE_STATUS,\n    id,\n    status,\n  };\n}\n\nexport function setNumber(id, number) {\n  return {\n    type: SET_NUMBER,\n    id,\n    number,\n  };\n}\n\nexport function setNumberWithLast(id, number) {\n  return (dispatch) => {\n    if (number > lastNumber) {\n      lastNumber = number;\n    }\n\n    dispatch(setNumber(id, number));\n  };\n}\n\nexport function toggleApprove(id) {\n  return (dispatch, getState) => {\n    const { items } = getState().confessions;\n\n    const confession = items.filter(item => (item.id === id))[0];\n\n    if (confession) {\n      const newStatus = confession.status === Status.APPROVED ? Status.UNCHECKED : Status.APPROVED;\n      const number = (!confession.number && newStatus === Status.APPROVED) ? lastNumber + 1 : undefined;\n\n      confessionApi.update(confession.id, { status: newStatus, number })\n        .then(() => {\n          dispatch(toggleStatus(id, newStatus));\n\n          if (number) {\n            dispatch(setNumberWithLast(id, lastNumber + 1));\n          }\n        });\n    }\n  };\n}\n\nexport function toggleReject(id) {\n  return (dispatch, getState) => {\n    const { items } = getState().confessions;\n\n    const confession = items.filter(item => (item.id === id))[0];\n\n    if (confession) {\n      const newStatus = confession.status === Status.REJECTED ? Status.UNCHECKED : Status.REJECTED;\n      confessionApi.update(confession.id, { status: newStatus })\n        .then(() => {\n          dispatch(toggleStatus(id, newStatus));\n        });\n    }\n  };\n}\n\nexport function loadPage(page) {\n  return (dispatch, getState) => {\n    dispatch(fetchRequest());\n\n    const { statusFilter } = getState().confessions;\n    const query = {\n      limit: PAGE_SIZE,\n      offset: PAGE_SIZE * page\n    };\n\n    if (statusFilter > -1) {\n      query.status = statusFilter;\n    }\n\n    return confessionApi.list(query).then((resp) => {\n      dispatch(fetchSuccess(resp.data.items, resp.data.total, page));\n    });\n  };\n}\n\nexport function refresh() {\n  return (dispatch, getState) => {\n    const { page } = getState().confessions;\n\n    return dispatch(loadPage(page));\n  };\n}\n\nexport function applyStatusFilter(status) {\n  return (dispatch) => {\n    dispatch(setStatusFilter(status));\n\n    return dispatch(loadPage(0));\n  };\n}\n\nexport function updateNumber(id, number) {\n  return (dispatch) => {\n    return confessionApi.update(id, { number }).then(() => {\n      return dispatch(setNumberWithLast(id, number));\n    });\n  };\n}\n","import {\n  FETCH_REQUEST,\n  FETCH_SUCCESS,\n  SET_STATUS_FILTER,\n  TOGGLE_STATUS,\n  SET_NUMBER,\n} from 'src/actions/confessions';\nimport { Status } from 'src/constants';\n\nconst initialState = {\n  items: [],\n  total: 0,\n  page: 0,\n  isFetching: false,\n  statusFilter: Status.UNCHECKED,\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_REQUEST:\n      return Object.assign({}, state, {\n        isFetching: true,\n      });\n\n    case FETCH_SUCCESS:\n      return Object.assign({}, state, {\n        items: action.items,\n        total: action.total,\n        page: action.page,\n        isFetching: false,\n      });\n\n    case SET_STATUS_FILTER:\n      return Object.assign({}, state, {\n        statusFilter: action.status,\n      });\n\n    case TOGGLE_STATUS:\n      return Object.assign({}, state, {\n        items: state.items.map((item) => {\n          if (item.id === action.id) {\n            return Object.assign({}, item, {\n              status: action.status === item.status ? 0 : action.status,\n            });\n          }\n\n          return item;\n        }),\n      });\n\n    case SET_NUMBER:\n      return Object.assign({}, state, {\n        items: state.items.map((item) => {\n          if (item.id === action.id) {\n            return Object.assign({}, item, {\n              number: action.number,\n            });\n          }\n\n          return item;\n        }),\n      });\n\n    default:\n      return state;\n  }\n}\n","import { authApi } from 'src/core/api';\nimport { notify } from './notification';\nimport { setToken } from 'src/core/auth';\n\nexport const SET_USER = 'SET_USER';\n\nexport function setUser(user) {\n  return {\n    type: SET_USER,\n    user,\n  };\n}\n\nexport function login({ username, password }) {\n  return (dispatch) => {\n    return authApi.login({ username, password})\n      .then((resp) => {\n        setToken(resp.data.token);\n        dispatch(setUser(resp.data));\n      })\n      .catch(() => {\n        dispatch(notify('Failed'));\n      });\n  };\n}\n\nexport function logout() {\n  return (dispatch) => {\n    setToken();\n    window.location.reload();\n  };\n}\n","import {\n  SET_USER,\n} from 'src/actions/auth';\n\nconst initialState = {\n  user: null,\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case SET_USER:\n      return {\n        ...state,\n        user: action.user,\n      };\n\n    default:\n      return state;\n  }\n}\n","import ui from './ui';\nimport notification from './notification';\nimport confessions from './confessions';\nimport auth from './auth';\n\nexport default {\n  ui,\n  notification,\n  confessions,\n  auth,\n};\n","import { createStore, applyMiddleware, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\nimport reducers from '../reducers';\n\nconst middlewares = [thunk];\n\nif (process.env.NODE_ENV === 'development') {\n  const logger = createLogger({\n    collapsed: true,\n    diff: true,\n  });\n  middlewares.push(logger);\n}\n\nconst store = createStore(\n  combineReducers(reducers),\n  applyMiddleware(...middlewares),\n);\n\nexport default store;\n","import { connect } from 'react-redux';\nimport * as auth from 'src/core/auth';\nimport PrivateRoute from './PrivateRoute';\n\nfunction mapStateToProps(state, ownProps) {\n  const user = state.auth.user;\n  const { authzCheck = true } = ownProps;\n  let isAllowed = true;\n\n  if (authzCheck === true) {\n    isAllowed = user && auth.isAllowed(user);\n  } else if (Array.isArray(authzCheck)) {\n    isAllowed = user && authzCheck.some(role => auth.isRole(role, user.role));\n  }\n\n  return {\n    isAuthenticated: !!user,\n    isAllowed,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {};\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PrivateRoute);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nexport default function PrivateRoute({ component: Component, isAuthenticated, isAllowed, ...rest }) {\n  const render = (props) => {\n    if (!isAuthenticated) {\n      return (\n        <Redirect\n          to={{\n            pathname: '/login',\n            state: { from: props.location }\n          }}\n        />\n      );\n    }\n\n    if (!isAllowed) {\n      return (\n        <Redirect\n          to={{\n            pathname: '/forbidden',\n            state: { from: props.location }\n          }}\n        />\n      );\n    }\n\n    return (<Component {...props} />);\n  };\n\n  return (\n    <Route\n      {...rest}\n      render={render}\n    />\n  );\n}\n","import React from 'react';\n\nconst Container = ({ children, className, style, hasSidebar }) => {\n  const ownStyle = {};\n  const ownClassName = className ? 'Container ' + className : 'Container';\n\n  if (hasSidebar) {\n    ownStyle.marginRight = 240;\n  }\n\n  return (\n    <div style={Object.assign(ownStyle, style)} className={ownClassName}>{children}</div>\n  );\n};\n\nexport default Container;\n","export function formateDateTime(date) {\n  return [\n    formatDate(date),\n    formatTime(date),\n  ].join(' ');\n}\n\nexport function formatDate(date) {\n  return [\n    date.getDate(),\n    date.getMonth() + 1,\n    date.getFullYear(),\n  ].join('/');\n}\n\nexport function formatTime(date) {\n  return [\n    date.getHours(),\n    date.getMinutes(),\n  ].join(':');\n}\n\nexport function buildPost(confession) {\n  const date = formatDate(new Date(confession.createdAt));\n  return `#CVNL${confession.number}\\n[${date}] ${confession.content}\\n\\n---\\n`;\n}\n\nexport function calculateAge(birthday) {\n  if (!birthday) { return 0; }\n\n  const ageDifMs = Date.now() - birthday.getTime();\n  const ageDate = new Date(ageDifMs); // miliseconds from epoch\n\n  return Math.abs(ageDate.getUTCFullYear() - 1970);\n}\n","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport CopyIcon from '@material-ui/icons/FilterNone';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nexport default class ConfessionCopyContent extends React.Component {\n\n  handleCopy = () => {\n    this.props.copy(this.props.confession);\n  };\n\n  render() {\n    return (\n      <Tooltip title=\"Copy để đăng Facebook\">\n        <IconButton style={{ color: 'orange' }} aria-label=\"Copy\" onClick={this.handleCopy}>\n          <CopyIcon fontSize=\"small\" />\n        </IconButton>\n      </Tooltip>\n    );\n  }\n}\n","import { connect } from 'react-redux';\nimport ConfessionCopyContent from './ConfessionCopyContent';\nimport { notify } from 'src/actions/notification';\nimport { buildPost } from 'src/core/utils';\nimport copyClipboard from 'clipboard-copy';\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    copy(confession) {\n      const text = buildPost(confession);\n\n      return copyClipboard(text).then(() => {\n        dispatch(notify('Copied'));\n      });\n    },\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ConfessionCopyContent);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport IconButton from '@material-ui/core/IconButton';\nimport RejectIcon from '@material-ui/icons/ThumbDown';\nimport ApproveIcon from '@material-ui/icons/Done';\nimport ApprovedIcon from '@material-ui/icons/DoneAll';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Button from '@material-ui/core/Button';\nimport InputBase from '@material-ui/core/InputBase';\n\nimport { formateDateTime } from 'src/core/utils';\nimport { Status } from 'src/constants';\n\nimport ConfessionCopyContent from '../ConfessionCopyContent';\n\nconst useStyles = withStyles(theme => ({\n  card: {\n    margin: theme.spacing(1),\n    width: 600,\n\n    '& .MuiCardHeader-root': {\n      paddingTop: theme.spacing(1),\n      paddingBottom: theme.spacing(1),\n    },\n\n    '& .MuiCardHeader-action': {\n      height: 44,\n    },\n  },\n  cardApproved: {\n    backgroundColor: '#fbfff8',\n  },\n  cardRejected: {\n    backgroundColor: '#efefef',\n  },\n  cardContent: {\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  content: {\n    whiteSpace: 'pre-wrap',\n  },\n  actions: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  numberInput: {\n    padding: theme.spacing(1),\n    paddingLeft: 0,\n    height: 32,\n    display: 'flex',\n    alignItems: 'center',\n  },\n  numberDisplay: {\n    display: 'flex',\n    alignItems: 'center',\n    height: 32,\n  },\n  numberDisplayText: {\n    paddingLeft: 0,\n    fontSize: '1rem',\n  },\n  editButton: {\n    padding: theme.spacing(1),\n  },\n  approvedButton: {\n    color: 'green',\n  },\n  metadata: {\n    color: 'rgba(0, 0, 0, 0.54)',\n    lineHeight: '44px',\n  },\n}));\n\nclass ConfessionListItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showNumberField: false,\n      number: 0,\n    };\n\n    this._onEditButtonClicked = this._onEditButtonClicked.bind(this);\n    this._onSaveButtonClicked = this._onSaveButtonClicked.bind(this);\n    this._onNumberInputChanged = this._onNumberInputChanged.bind(this);\n  }\n\n  render() {\n    const {\n      classes,\n      confession,\n      toggleReject,\n      toggleApprove,\n    } = this.props;\n    const {\n      showNumberField,\n    } = this.state;\n    const rejectColor = confession.status === Status.REJECTED ? 'secondary' : 'default';\n    const approvedClassName = confession.status === Status.APPROVED ? classes.approvedButton : '';\n    const ApproveComponent = confession.status === Status.APPROVED ? ApprovedIcon : ApproveIcon;\n    const date = formateDateTime(new Date(confession.createdAt));\n    let className = classes.card;\n\n    if (confession.status === Status.APPROVED) {\n      className += ' ' + classes.cardApproved;\n    } else if (confession.status === Status.REJECTED) {\n      className += ' ' + classes.cardRejected;\n    }\n\n    const numberInput = (\n      <div className={classes.numberInput}>\n        <InputBase\n          type=\"number\"\n          placeholder=\"1234...\"\n          value={this.state.number}\n          onChange={this._onNumberInputChanged}\n          autoFocus\n        />\n        <Button size=\"small\" color=\"primary\" onClick={this._onSaveButtonClicked}>Lưu</Button>\n      </div>\n    );\n    const numberDisplay = (\n      <div className={classes.numberDisplay}>\n        <Typography className={classes.numberDisplayText} component=\"h5\">\n          {confession.number || '#'}\n        </Typography>\n        <Tooltip title=\"Sửa số thứ tự\">\n          <IconButton className={classes.editButton} aria-label=\"Edit\" onClick={this._onEditButtonClicked}>\n            <EditIcon fontSize=\"small\" />\n          </IconButton>\n        </Tooltip>\n      </div>\n    );\n\n    return (\n      <Card className={className}>\n        <CardHeader\n          title={showNumberField ? numberInput : numberDisplay}\n          action={\n            <React.Fragment>\n              <span className={classes.metadata}>{`${confession.row} | ${date}`}</span>\n              {confession.number ? <ConfessionCopyContent confession={confession} /> : null}\n            </React.Fragment>\n          }\n        />\n        <CardContent className={classes.cardContent}>\n          <Typography className={classes.content} component=\"pre\">\n            {confession.content}\n          </Typography>\n        </CardContent>\n\n        <CardActions className={classes.actions}>\n          <Tooltip title=\"Từ chối\">\n            <IconButton onClick={() => toggleReject(confession.id)} color={rejectColor} aria-label=\"Từ chối\">\n              <RejectIcon />\n            </IconButton>\n          </Tooltip>\n          <Tooltip onClick={() => toggleApprove(confession.id)} title=\"Duyệt\">\n            <IconButton className={approvedClassName} aria-label=\"Duyệt\">\n              <ApproveComponent />\n            </IconButton>\n          </Tooltip>\n        </CardActions>\n      </Card>\n    );\n  }\n\n  _onEditButtonClicked() {\n    this.setState({\n      showNumberField: true,\n      number: this.props.confession.number || 0,\n    });\n  }\n\n  _onSaveButtonClicked() {\n    this.props.updateNumber(this.props.confession.id, this.state.number);\n    this.setState({\n      showNumberField: false,\n    });\n  }\n\n  _onNumberInputChanged(event) {\n    this.setState({\n      number: parseInt(event.target.value),\n    });\n  }\n}\n\nexport default useStyles(ConfessionListItem);\n","import { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport ConfessionListItem from './ConfessionListItem';\nimport { toggleApprove, toggleReject, updateNumber } from 'src/actions/confessions';\n\nfunction mapStateToProps(state) {\n  return {\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    toggleApprove,\n    toggleReject,\n    updateNumber,\n  }, dispatch);\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ConfessionListItem);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport { Status } from 'src/constants';\n\nconst styles = theme => ({\n  formControl: {\n    margin: theme.spacing(3),\n  },\n  group: {\n    margin: `${theme.spacing(1)}px 0`,\n    display: 'flex',\n    flexDirection: 'row',\n  },\n});\n\nclass ConfessionListFilter extends React.Component {\n\n  handleChange = event => {\n    this.props.applyStatusFilter(parseInt(event.target.value));\n  };\n\n  render() {\n    const { classes, statusFilter } = this.props;\n\n    return (\n      <FormControl component=\"fieldset\" className={classes.formControl}>\n        <RadioGroup\n          aria-label=\"Lọc\"\n          name=\"filter\"\n          className={classes.group}\n          value={String(statusFilter)}\n          onChange={this.handleChange}\n        >\n          <FormControlLabel value=\"-1\" control={<Radio />} label=\"Tất cả\" />\n          <FormControlLabel value={String(Status.REJECTED)} control={<Radio />} label=\"Từ chối\" />\n          <FormControlLabel value={String(Status.APPROVED)} control={<Radio />} label=\"Đã duyệt\" />\n          <FormControlLabel value={String(Status.UNCHECKED)} control={<Radio />} label=\"Chưa duyệt\" />\n        </RadioGroup>\n      </FormControl>\n    );\n  }\n}\n\nexport default withStyles(styles)(ConfessionListFilter);\n","import { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport ConfessionListFilter from './ConfessionListFilter';\nimport { loadPage, applyStatusFilter } from 'src/actions/confessions';\n\nfunction mapStateToProps(state) {\n  const { items, statusFilter } = state.confessions;\n\n  return {\n    confessions: items,\n    statusFilter,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    loadPage,\n    applyStatusFilter,\n  }, dispatch);\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ConfessionListFilter);\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nfunction GotoPage({ loadPage }) {\n  const [page, setPage] = React.useState(1);\n  const [open, setOpen] = React.useState(false);\n\n  const handleClose = () => setOpen(false);\n  const handleOpen = () => setOpen(true);\n  const onChange = (event) => setPage(parseInt(event.target.value));\n  const handleGo = () => {\n    handleClose();\n    loadPage(page - 1);\n  };\n\n  return (\n    <div>\n      <Button variant=\"outlined\" color=\"primary\" onClick={handleOpen}>\n        Go\n      </Button>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Chuyển tới trang</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Nhập trang muốn chuyển tới:\n          </DialogContentText>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"page\"\n            label=\"Trang\"\n            type=\"number\"\n            fullWidth\n            value={page}\n            onChange={onChange}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose}>\n            Cancel\n          </Button>\n          <Button onClick={handleGo} color=\"primary\">\n          Go\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default React.memo(GotoPage);\n","import { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport GotoPage from './GotoPage';\nimport { loadPage } from 'src/actions/confessions';\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    loadPage,\n  }, dispatch);\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(GotoPage);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { PAGE_SIZE } from 'src/constants';\nimport ConfessionListItem from '../ConfessionListItem';\nimport ConfessionListFilter from '../ConfessionListFilter';\nimport GotoPage from '../GotoPage';\n\nconst styles = theme => ({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  header: {\n    width: '600px',\n    display: 'flex',\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n  },\n  pagination: {\n    width: '600px',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  flexRow: {\n    display: 'flex',\n  },\n  nextButton: {\n    marginLeft: theme.spacing(1),\n  },\n});\n\nclass ConfessionList extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this._onBackButtonClicked = this._onBackButtonClicked.bind(this);\n    this._onNextButtonClicked = this._onNextButtonClicked.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.refresh();\n  }\n\n  render() {\n    const { classes, confessions, isFetching, total, page, refresh } = this.props;\n    const totalPage = Math.ceil(total / PAGE_SIZE);\n    const disableBack = page < 1;\n    const disableNext = page >= totalPage - 1;\n\n    return (\n      <div className={classes.container}>\n        <div className={classes.header}>\n          <ConfessionListFilter />\n          <Button onClick={refresh}>Tải lại</Button>\n        </div>\n        {\n          totalPage > 0 &&\n          <div className={classes.pagination}>\n            <Button variant=\"outlined\" color=\"primary\" disabled={disableBack} onClick={this._onBackButtonClicked}>Back</Button>\n            <Typography variant=\"body1\">{`Trang ${page + 1}/${totalPage} (${total} confessions)`}</Typography>\n            <div className={classes.flexRow}>\n              <GotoPage />\n              <Button className={classes.nextButton} variant=\"outlined\" color=\"primary\" disabled={disableNext} onClick={this._onNextButtonClicked}>Next</Button>\n            </div>\n\n          </div>\n        }\n        {isFetching ? <CircularProgress /> : confessions.map(cfs =>\n          <ConfessionListItem key={cfs.id} confession={cfs} />\n        )}\n        <br />\n        {!isFetching && <Button onClick={refresh}>Tải lại</Button>}\n        <br />\n      </div>\n    );\n  }\n\n  _onBackButtonClicked() {\n    this.props.loadPage(this.props.page - 1);\n  }\n\n  _onNextButtonClicked() {\n    this.props.loadPage(this.props.page + 1);\n  }\n}\n\nexport default withStyles(styles)(ConfessionList);\n","import { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { loadPage, refresh } from 'src/actions/confessions';\nimport ConfessionList from './ConfessionList';\n\nfunction mapStateToProps(state) {\n  const { items, isFetching, total, page } = state.confessions;\n\n  return {\n    confessions: items,\n    isFetching,\n    total,\n    page,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    loadPage,\n    refresh,\n  }, dispatch);\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ConfessionList);\n","import HomeView from './HomeView';\n\nexport default HomeView;\n","import React from 'react';\nimport Container from 'src/components/Container';\nimport ConfessionList from 'src/components/ConfessionList';\n\nexport default function HomeView() {\n  return (\n    <Container>\n      <ConfessionList />\n    </Container>\n  );\n}\n","import { useState } from 'react';\n\nexport default function useForm(defaultValues = {}) {\n  const [values, setValues] = useState(defaultValues);\n\n  const handleChange = (event) => {\n    event.persist();\n    const { name, value, checked, type } = event.target;\n\n    setValues(values => ({ ...values, [name]:  type === 'checkbox' ? checked : value }));\n  };\n\n  return {\n    values,\n    setValues,\n    handleChange,\n  };\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport useForm from 'src/hooks/useForm';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'column',\n    padding: theme.spacing(2),\n  },\n\n  textField: {\n    marginBottom: theme.spacing(2),\n  }\n}));\n\nexport default function LoginForm({ login }) {\n  const classes = useStyles();\n  const [isLoading, setIsLoading] = React.useState(false);\n  const { values, handleChange } = useForm({ username: '', password: '' });\n  const submitEnabled = values.username && values.password && !isLoading;\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    setIsLoading(true);\n\n    login(values).then(() => setIsLoading(false));\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className={classes.container} noValidate autoComplete=\"off\">\n      <TextField\n        autoFocus\n        id=\"username\"\n        name=\"username\"\n        label=\"Username\"\n        className={classes.textField}\n        value={values.username}\n        onChange={handleChange}\n      />\n      <TextField\n        type=\"password\"\n        id=\"password\"\n        name=\"password\"\n        label=\"Password\"\n        className={classes.textField}\n        value={values.password}\n        onChange={handleChange}\n      />\n      <Button type=\"submit\" onClick={handleSubmit} disabled={!submitEnabled}>Login</Button>\n      {isLoading && <CircularProgress size={20} />}\n    </form>\n  );\n}\n","import { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport LoginForm from './LoginForm';\nimport { login } from 'src/actions/auth';\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    login,\n  }, dispatch);\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LoginForm);\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Container from 'src/components/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport { authApi } from 'src/core/api';\nimport LoginForm from 'src/components/LoginForm';\n\nconst Status = {\n  CHECKING: 1,\n  NOT_LOGGED_IN: 2,\n};\n\nconst styles = {\n  content: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: '50vh',\n  },\n};\n\nclass LoginView extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      status: Status.CHECKING,\n    };\n  }\n\n  componentDidMount() {\n    this._checkLoginStatus();\n  }\n\n  render() {\n    const { from } = this.props.location.state || { from: { pathname: '/' } };\n    const { status } = this.state;\n    const { classes, isLoggedIn } = this.props;\n\n    if (isLoggedIn) {\n      return <Redirect to={from} />;\n    }\n\n    let content;\n\n    switch (status) {\n      case Status.CHECKING:\n        content = (\n          <div className={classes.content}>\n            <Typography variant=\"h6\">\n              Just a moment, we are checking your identity...\n            </Typography>\n            <br />\n            <CircularProgress />\n          </div>\n        );\n        break;\n\n      case Status.NOT_LOGGED_IN:\n        content = (\n          <Paper className={classes.content}>\n            <Typography variant=\"h6\">\n              May we ask you to login?\n            </Typography>\n            <LoginForm />\n          </Paper>\n        );\n        break;\n\n      default:\n        break;\n    }\n\n    return (\n      <Container>{content}</Container>\n    );\n  }\n\n  _checkLoginStatus() {\n    authApi.getCurrentUser()\n      .then((resp) => {\n        this.props.setUser(resp.data);\n      })\n      .catch(() => {\n        this.setState({ status: Status.NOT_LOGGED_IN });\n      });\n  }\n}\n\nexport default withStyles(styles)(LoginView);\n","import { connect } from 'react-redux';\nimport LoginView from './LoginView';\nimport { setUser } from 'src/actions/auth';\nimport { bindActionCreators } from 'redux';\n\nfunction mapStateToProps(state) {\n  return {\n    isLoggedIn: !!state.auth.user\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    setUser,\n  }, dispatch);\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LoginView);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Container from 'src/components/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\n\nconst styles = {\n  content: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: '50vh',\n  },\n};\n\nclass ForbiddenView extends React.Component {\n\n  render() {\n    const { classes, userDisplayName } = this.props;\n\n    return (\n      <Container>\n        <Paper className={classes.content}>\n          <Typography variant=\"h4\">\n            Forbidden!\n          </Typography>\n          <br />\n          <Typography variant=\"subtitle1\">\n            {`Sorry ${userDisplayName}, we have found that you do not have enough permission to view this page. Please ask people around you for help.`}\n          </Typography>\n        </Paper>\n      </Container>\n    );\n  }\n}\n\nexport default withStyles(styles)(ForbiddenView);\n","import { connect } from 'react-redux';\nimport ForbiddenView from './ForbiddenView';\n\nfunction mapStateToProps(state) {\n  const user = state.auth.user;\n\n  return {\n    userDisplayName: user && user.name,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {};\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ForbiddenView);\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ListItem from '@material-ui/core/ListItem';\nimport Typography from '@material-ui/core/Typography';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport { calculateAge } from 'src/core/utils';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  inline: {\n    display: 'inline',\n  },\n  avatar: {\n    marginRight: 10,\n    width: 64,\n    height: 64,\n  },\n}));\n\nexport default function UserListItem({ user }) {\n  const classes = useStyles();\n  const account = user.accounts ? user.accounts[0] : {};\n  const avatarUrl = `https://graph.facebook.com/${account.id}/picture`;\n  const ageRange = (account.data && account.data.age_range) || { min: 0, max: 0 };\n\n  const [isBigAvatar, setIsBigAvatar] = React.useState();\n  const actualAge = React.useMemo(() => {\n    if (user.actualAge) {\n      return user.actualAge;\n    }\n\n    return calculateAge(user.birthday && new Date(user.birthday)) || 99;\n  }, [user]);\n\n  return (\n    <ListItem alignItems=\"flex-start\" divider>\n      { isBigAvatar && <img src={avatarUrl + '?height=640'} alt={`${user.name}'s avatar`} onClick={() => setIsBigAvatar(false)} /> }\n      <ListItemAvatar onClick={() => setIsBigAvatar(true)}>\n        <Avatar alt={`${user.name}'s avatar`} src={avatarUrl + '?height=100'} className={classes.avatar} />\n      </ListItemAvatar>\n      <ListItemText\n        primary={user.name}\n        secondary={\n          <React.Fragment>\n            <Typography\n              component=\"span\"\n              variant=\"body2\"\n              className={classes.inline}\n              color=\"textPrimary\"\n            >\n              {user.id}\n            </Typography>\n            <span>{' — '}\n              min: {ageRange.min} - max: {ageRange.max} - actual: {actualAge}\n            </span>\n            {user.lastActive && <span>{' — '}\n              Active: {new Date(user.lastActive).toLocaleString()}\n            </span>}\n          </React.Fragment>\n        }\n      />\n\n    </ListItem>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputBase from '@material-ui/core/InputBase';\n\nconst useStyles = makeStyles(theme => ({\n  searchField: {\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #d4d4d4',\n    borderRadius: 15,\n    padding: '0 15px',\n    width: 260,\n  },\n}));\n\nexport default function SearchField({ onSearch, onClear, placeholder = 'Search' }) {\n  const classes = useStyles();\n  const [query, setQuery] = React.useState('');\n\n  function handleKeyUp(event) {\n    if (event.keyCode === 13 && event.target.value) {\n      onSearch(event.target.value);\n    }\n  }\n\n  function handleChange(event) {\n    setQuery(event.target.value);\n\n    if (!event.target.value) {\n      onClear();\n    }\n  }\n\n  return (\n    <InputBase\n      id=\"search\"\n      placeholder={placeholder}\n      type=\"search\"\n      className={classes.searchField}\n      margin=\"none\"\n      variant=\"outlined\"\n      name=\"search\"\n      value={query}\n      onChange={handleChange}\n      onKeyUp={handleKeyUp}\n    />\n  );\n}\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport List from '@material-ui/core/List';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport { adminApi } from 'src/core/api';\nimport UserListItem from './UserListItem';\nimport SearchField from './SearchField';\nimport { calculateAge } from 'src/core/utils';\n\nconst useStyles = withStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n\n  listWrapper: {\n    overflow: 'auto',\n    width: '100%',\n    maxWidth: 800,\n    maxHeight: 'calc(100vh - 160px)',\n  },\n\n  list: {\n    width: '100%',\n    maxWidth: 800,\n    backgroundColor: theme.palette.background.paper,\n  },\n\n  toolbar: {\n    width: 800,\n    alignItems: 'center',\n  },\n\n  grow: {\n    flexGrow: 999,\n  },\n\n}));\n\nclass OnlineUserList extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isFetching: true,\n      total: 0,\n      femaleUsers: [],\n      maleUsers: [],\n      otherUsers: [],\n      searchUsers: [],\n      showFemale: true,\n      showMale: false,\n      showOther: false,\n      showSearch: false,\n      showYoung: false,\n    };\n\n    this._handleFieldChange = this._handleFieldChange.bind(this);\n    this._handleRefresh = this._handleRefresh.bind(this);\n    this._handleSearch = this._handleSearch.bind(this);\n    this._handleSearchClear = this._handleSearchClear.bind(this);\n  }\n\n  componentDidMount() {\n    this._handleRefresh();\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { isFetching, total, femaleUsers, maleUsers, otherUsers, searchUsers, showSearch, showFemale, showMale, showOther, showYoung } = this.state;\n    let content;\n    if (isFetching) {\n      content = <CircularProgress />;\n    } else if (showSearch) {\n      content = (\n        <div className={classes.listWrapper}>\n          {this._showList('Searching', searchUsers)}\n        </div>\n      );\n    } else {\n      content = (\n        <div className={classes.listWrapper}>\n          {showFemale && this._showList('Female', femaleUsers)}\n          {showMale && this._showList('Male', maleUsers)}\n          {showOther && this._showList('Others', otherUsers)}\n        </div>\n      );\n    }\n\n    return (\n      <div className={classes.container}>\n        <FormGroup row className={classes.toolbar}>\n          <span style={{ marginRight: 10 }}>Total: {total}</span>\n          <FormControlLabel\n            control={\n              <Checkbox name=\"showFemale\" checked={showFemale} onChange={this._handleFieldChange} value={showFemale} />\n            }\n            label=\"Female\"\n          />\n          <FormControlLabel\n            control={\n              <Checkbox name=\"showMale\" checked={showMale} onChange={this._handleFieldChange} value={showMale} />\n            }\n            label=\"Male\"\n          />\n          <FormControlLabel\n            control={\n              <Checkbox name=\"showOther\" checked={showOther} onChange={this._handleFieldChange} value={showOther} />\n            }\n            label=\"Other\"\n          />\n          <FormControlLabel\n            control={\n              <Checkbox name=\"showYoung\" checked={showYoung} onChange={this._handleFieldChange} value={showYoung} />\n            }\n            label=\"Young\"\n          />\n          <IconButton size=\"small\" onClick={this._handleRefresh}>\n            <RefreshIcon />\n          </IconButton>\n\n          <div className={classes.grow} />\n\n          <SearchField onSearch={this._handleSearch} onClear={this._handleSearchClear} />\n        </FormGroup>\n        {content}\n      </div>\n    );\n  }\n\n  _showList(title, users) {\n    const { classes } = this.props;\n    let displayUsers = users;\n\n    if (!this.state.showSearch && !this.state.showYoung) {\n      displayUsers = users.filter(user => (user.actualAge > 17));\n    }\n\n    return (\n      <List className={classes.list} subheader={<ListSubheader>{`${title} (${displayUsers.length})`}</ListSubheader>}>\n        {displayUsers.map(user => (\n          <UserListItem key={user.id} user={user} />\n        ))}\n      </List>\n    );\n  }\n\n  _handleSearch(search) {\n    this.setState({\n      isFetching: true,\n      searchUsers: [],\n    });\n\n    adminApi.getUser(search)\n      .then(resp => [resp.data])\n      .catch(() => [])\n      .then((users) => {\n        this.setState({\n          isFetching: false,\n          showSearch: true,\n          searchUsers: users,\n        });\n      });\n  }\n\n  _handleSearchClear() {\n    this.setState({\n      isFetching: false,\n      showSearch: false,\n      searchUsers: [],\n    });\n  }\n\n  _handleRefresh() {\n    this.setState({\n      isFetching: true,\n      total: 0,\n      maleUsers: [],\n      femaleUsers: [],\n      otherUsers: [],\n    });\n\n    adminApi.listUsers()\n      .then((resp) => {\n        const maleUsers = [];\n        const femaleUsers = [];\n        const otherUsers = [];\n\n        resp.data.items.forEach((user) => {\n          user.actualAge = calculateAge(user.birthday && new Date(user.birthday)) || 99;\n\n          if (user.gender === 'male') {\n            maleUsers.push(user);\n          } else if (user.gender === 'female') {\n            femaleUsers.push(user);\n          } else {\n            otherUsers.push(user);\n          }\n        });\n\n        this.setState({\n          isFetching: false,\n          total: resp.data.total,\n          maleUsers,\n          femaleUsers,\n          otherUsers,\n        });\n      });\n  }\n\n  _handleFieldChange(event) {\n    const { type, name, value, checked } = event.target;\n\n    this.setState({\n      [name]: type === 'checkbox' ? checked : value,\n    });\n  }\n}\n\nexport default useStyles(OnlineUserList);\n","import React from 'react';\nimport Container from 'src/components/Container';\nimport OnlineUserList from 'src/components/OnlineUserList';\n\nexport default function OnlineUsersView() {\n  return (\n    <Container>\n      <OnlineUserList />\n    </Container>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport List from '@material-ui/core/List';\nimport UserListItem from './UserListItem';\n\nconst useStyles = makeStyles(theme => ({\n  list: {\n    width: 900,\n    backgroundColor: '#fff',\n  },\n}));\n\nexport default function OnlineUserList({ users, isFetching }) {\n  const classes = useStyles();\n\n  return (\n    <List className={classes.list}>\n      {isFetching ? (<CircularProgress />) : users.map(user => (\n        <UserListItem key={user.id} user={user} />\n      ))}\n    </List>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport Container from './Container';\nimport UserList from './UserList';\nimport useList from 'src/hooks/useList';\nimport { activeUserApi } from 'src/core/api';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  toolbar: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: 900,\n    '& label': {\n      marginLeft: 5,\n      marginRight: 5,\n    },\n    '& select': {\n      marginLeft: 5,\n    }\n  },\n}));\n\nfunction listFn({ limit, offset, filters }) {\n  const listOptions = { limit, offset, ...filters };\n\n  if (listOptions.active) {\n    listOptions.lastActive = Date.now() - 3600000 * listOptions.active;\n    delete listOptions.active;\n  }\n\n  if (listOptions.gender === 'null') {\n    delete listOptions.gender;\n  }\n\n  if (!listOptions.age) {\n    delete listOptions.age;\n  }\n\n  return activeUserApi.list(listOptions).then((resp) => {\n    return {\n      items: resp.data.items,\n      total: resp.data.total,\n    };\n  });\n}\n\nexport default function ActiveUsersView() {\n  const classes = useStyles();\n  const list = useList({ listFn, defaultPageSize: 50, defaultFilters: { age: 20, gender: 'female', active: 3 } });\n\n  React.useEffect(list.refresh, []);\n\n  return (\n    <Container className={classes.container}>\n      <div className={classes.toolbar}>\n        <div>\n          <label>\n            Min age:\n            <select value={list.filters.age} onChange={event => list.addFilter({ age: parseInt(event.target.value) })}>\n              <option value=\"null\">-- Age --</option>\n              <option value=\"18\">18</option>\n              <option value=\"19\">19</option>\n              <option value=\"20\">20</option>\n              <option value=\"21\">21</option>\n              <option value=\"22\">22</option>\n              <option value=\"23\">23</option>\n              <option value=\"24\">24</option>\n              <option value=\"25\">25</option>\n              <option value=\"26\">26</option>\n              <option value=\"27\">27</option>\n              <option value=\"28\">28</option>\n              <option value=\"29\">29</option>\n            </select>\n          </label>\n          <label>\n            Active:\n            <select value={list.filters.active} onChange={event => list.addFilter({ active: parseInt(event.target.value) })}>\n              <option value=\"1\">last 1 hour</option>\n              <option value=\"3\">last 3 hours</option>\n              <option value=\"6\">last 6 hours</option>\n              <option value=\"12\">last 12 hours</option>\n              <option value=\"24\">last 1 day</option>\n              <option value=\"48\">last 2 days</option>\n              <option value=\"72\">last 3 days</option>\n              <option value=\"96\">last 4 days</option>\n              <option value=\"120\">last 5 days</option>\n              <option value=\"144\">last 6 days</option>\n              <option value=\"168\">last 7 days</option>\n              <option value=\"192\">last 8 days</option>\n              <option value=\"216\">last 9 days</option>\n            </select>\n          </label>\n          <label>\n            Gender:\n            <select value={list.filters.gender} onChange={event => list.addFilter({ gender: event.target.value })}>\n              <option value=\"null\">-- Gender --</option>\n              <option value=\"female\">female</option>\n              <option value=\"male\">male</option>\n              <option value=\"other\">other</option>\n            </select>\n          </label>\n        </div>\n        <div>\n          <span>{list.total} ({list.page + 1} / {list.totalPage})</span>\n          <input style={{ marginLeft: 10, width: 50 }} onChange={(event) => event.target.value && list.changePage(parseInt(event.target.value) - 1)} />\n          <select value={list.pageSize} onChange={event => list.changePageSize(parseInt(event.target.value))}>\n            <option value=\"10\">10</option>\n            <option value=\"20\">20</option>\n            <option value=\"50\">50</option>\n            <option value=\"100\">100</option>\n            <option value=\"200\">200</option>\n          </select>\n        </div>\n        <div>\n          <IconButton onClick={list.refresh}><RefreshIcon /></IconButton>\n          <ButtonGroup size=\"small\">\n            <Button disabled={list.page === 0} onClick={() => list.changePage(list.page - 1)}>Back</Button>\n            <Button disabled={list.page === list.totalPage - 1} onClick={() => list.changePage(list.page + 1)}>Next</Button>\n          </ButtonGroup>\n\n        </div>\n      </div>\n      <UserList users={list.items} isFetching={list.isFetching} />\n    </Container>\n  );\n}\n","import React from 'react';\n\nexport default function useForm({ listFn, defaultPageSize = 20, defaultFilters = {} }) {\n  const firstRun = React.useRef(true);\n  const [items, setItems] = React.useState([]);\n  const [isFetching, setIsFetching] = React.useState(false);\n  const [page, setPage] = React.useState(0);\n  const [pageSize, setPageSize] = React.useState(defaultPageSize);\n  const [filters, setFilters] = React.useState(defaultFilters);\n  const [total, setTotal] = React.useState(0);\n  const totalPage = React.useMemo(() => {\n    return Math.ceil(total / pageSize);\n  }, [pageSize, total]);\n\n  React.useEffect(() => {\n    if (firstRun.current) {\n      firstRun.current = false;\n    } else {\n      load();\n    }\n  }, [page, pageSize, filters]);\n\n  function changePageSize(pageSize) {\n    setPageSize(pageSize);\n  }\n\n  function changePage(page) {\n    setPage(page);\n  }\n\n  function addFilter(filter) {\n    setFilters(filters => ({...filters, ...filter }));\n  }\n\n  function refresh() {\n    load();\n  }\n\n  function load() {\n    const limit = pageSize;\n    const offset = limit * page;\n\n    setIsFetching(true);\n\n    return listFn({ limit, offset, filters }).then((data) => {\n      setTotal(data.total);\n      setItems(data.items);\n      setIsFetching(false);\n    });\n  }\n\n  return {\n    items,\n    page,\n    pageSize,\n    total,\n    totalPage,\n    isFetching,\n    filters,\n    changePage,\n    changePageSize,\n    refresh,\n    addFilter,\n    setFilters,\n  };\n}\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nconst styles = theme => ({\n});\n\nclass ConfirmButton extends React.Component {\n\n  state = {\n    open: false,\n  };\n\n  handleClickOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  handleSubmit = () => {\n    this.handleClose();\n    this.props.handleSubmit();\n  };\n\n  render() {\n    const { anchorElement: AnchorElement, dialogTitleText, dialogBodyText, dialogActionText } = this.props;\n\n    return (\n      <React.Fragment>\n        <AnchorElement onClick={this.handleClickOpen} />\n        <Dialog\n          open={this.state.open}\n          onClose={this.handleClose}\n          aria-labelledby=\"alert-dialog-title\"\n          aria-describedby=\"alert-dialog-description\"\n        >\n          <DialogTitle id=\"alert-dialog-title\">{dialogTitleText}</DialogTitle>\n          <DialogContent>\n            <DialogContentText id=\"alert-dialog-description\">\n              {dialogBodyText}\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleClose} color=\"primary\" autoFocus>\n              Cancel\n            </Button>\n            <Button onClick={this.handleSubmit} color=\"secondary\">\n              {dialogActionText}\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withStyles(styles)(ConfirmButton);\n","import ConfirmButton from './ConfirmButton';\n\nexport default ConfirmButton;\n","import { connect } from 'react-redux';\nimport UnblockUserButton from './UnblockUserButton';\nimport { notify } from 'src/actions/notification';\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onUnblockSuccess() {\n      dispatch(notify('Mở khóa thành công'));\n    },\n\n    onUnblockFailure() {\n      dispatch(notify('Có lỗi xảy ra!'));\n    }\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(UnblockUserButton);\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport ConfirmButton from '../ConfirmButton';\nimport { modApi } from 'src/core/api';\n\nexport default function UnblockUserButton({ code, disabled, onUnblockSuccess, onUnblockFailure }) {\n  function handleUnblock() {\n    modApi.unblockUser(code.toLowerCase())\n      .then(onUnblockSuccess)\n      .catch(onUnblockFailure);\n  }\n\n  return (\n    <ConfirmButton\n      anchorElement={({onClick}) => (\n        <Button variant=\"outlined\" color=\"primary\" onClick={onClick} disabled={disabled}>Mở khóa</Button>\n      )}\n      dialogTitleText=\"Mở khóa tài khoản\"\n      dialogBodyText=\"Bạn có chắc chắn muốn mở khóa tài khoản này?\"\n      dialogActionText=\"Mở khóa\"\n      handleSubmit={handleUnblock}\n    />\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Typography from '@material-ui/core/Typography';\nimport { modApi } from 'src/core/api';\nimport SearchField from '../SearchField';\nimport UnblockUserButton from '../UnblockUserButton';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n\n  content: {\n    ...theme.mixins.gutters(),\n    marginTop: theme.spacing(2),\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n    width: 800,\n  },\n}));\n\nexport default function ModeratePanel() {\n  const classes = useStyles();\n  const [code, setCode] = React.useState();\n  const [user, setUser] = React.useState();\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  React.useEffect(() => {\n    if (code) {\n      setIsLoading(true);\n      setUser(null);\n\n      modApi.getUserProfile(code.toLowerCase())\n        .then((resp) => {\n          setUser(resp.data);\n          setIsLoading(false);\n        })\n        .catch(() => {\n          setIsLoading(false);\n        });\n    } else {\n      setUser(null);\n    }\n  }, [code]);\n\n  let content;\n\n  if (isLoading) {\n    content = (\n      <CircularProgress />\n    );\n  } else if (user) {\n    content = (\n      <div>\n        <Typography>Hành động:</Typography>\n        <UnblockUserButton code={code} disabled={!user.messages.total} />\n        <br /><br/>\n        <Typography>Tin nhắn gần đây ({user.messages.total}):</Typography>\n        <ul>\n          {user.messages.items.map(message => (\n            <li>{message.content}</li>\n          ))}\n        </ul>\n      </div>\n    );\n  } else {\n    content = (\n      <Typography>Không tìm thấy user</Typography>\n    );\n  }\n\n  return (\n    <div className={classes.container}>\n      <SearchField placeholder=\"Nhập code...\" onSearch={(code) => setCode(code)} onClear={() => setCode()} />\n      <Paper className={classes.content}>{content}</Paper>\n    </div>\n  );\n}\n","import ModeratePanel from './ModeratePanel';\n\nexport default ModeratePanel;\n","import ModerateView from './ModerateView';\n\nexport default ModerateView;\n","import React from 'react';\nimport Container from 'src/components/Container';\nimport ModeratePanel from '../ModeratePanel';\n\nexport default function ModerateView() {\n  return (\n    <Container>\n      <ModeratePanel />\n    </Container>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ListItem from '@material-ui/core/ListItem';\nimport Typography from '@material-ui/core/Typography';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport { calculateAge } from 'src/core/utils';\nimport { ListItemSecondaryAction, IconButton } from '@material-ui/core';\nimport RemoveIcon from '@material-ui/icons/Delete';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  inline: {\n    display: 'inline',\n  },\n  avatar: {\n    marginRight: 10,\n    width: 64,\n    height: 64,\n  },\n}));\n\nexport default function MappingUserListItem({ user, onRemove }) {\n  const classes = useStyles();\n  const avatarUrl = `https://graph.facebook.com/${user.accounts[0].id}/picture`;\n  const ageRange = (user.accounts[0].data && user.accounts[0].data.age_range) || { min: 0, max: 0 };\n  const actualAge = calculateAge(user.birthday && new Date(user.birthday));\n\n  const [isBigAvatar, setIsBigAvatar] = React.useState();\n\n  return (\n    <ListItem alignItems=\"flex-start\" divider>\n      { isBigAvatar && <img src={avatarUrl + '?height=640'} alt={`${user.name}'s avatar`} onClick={() => setIsBigAvatar(false)} /> }\n      <ListItemAvatar onClick={() => setIsBigAvatar(true)}>\n        <Avatar alt={`${user.name}'s avatar`} src={avatarUrl + '?height=100'} className={classes.avatar} />\n      </ListItemAvatar>\n      <ListItemText\n        primary={user.name}\n        secondary={\n          <React.Fragment>\n            <Typography\n              component=\"span\"\n              variant=\"body2\"\n              className={classes.inline}\n              color=\"textPrimary\"\n            >\n              {user.id}\n            </Typography>\n            <span>{' — '}\n              min: {ageRange.min} - max: {ageRange.max} - actual: {actualAge}\n            </span>\n          </React.Fragment>\n        }\n      />\n      <ListItemSecondaryAction>\n        <IconButton onClick={() => onRemove(user)}><RemoveIcon /></IconButton>\n      </ListItemSecondaryAction>\n    </ListItem>\n  );\n}\n","import React from 'react';\nimport Container from 'src/components/Container';\nimport useForm from 'src/hooks/useForm';\nimport { TextField, Button, List, ListSubheader, CircularProgress } from '@material-ui/core';\nimport { adminApi } from 'src/core/api';\nimport MappingUserListItem from './MappingUserListItem';\nimport { makeStyles } from '@material-ui/core/styles';\n\nfunction getUser(userId, waiter) {\n  return adminApi.getUser(userId)\n    .then(resp => resp.data)\n    .then((user) => {\n      user.name = user.name + ` - ${waiter}`;\n      return user;\n    });\n}\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n\n  form: {\n    width: 700,\n    marginBottom: theme.spacing(2),\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n\n  textField: {\n    width: 300,\n  },\n\n  list: {\n    width: 800,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nexport default function MappingView() {\n  const classes = useStyles();\n  const { values, handleChange } = useForm();\n  const [users, setUsers] = React.useState([]);\n  const [isFetching, setIsFetching] = React.useState(false);\n\n  React.useEffect(loadData, []);\n\n  function loadData() {\n    setIsFetching(true);\n\n    adminApi.listMappings()\n      .then((resp) => {\n        const mappings = resp.data;\n        return Promise.all(Object.keys(mappings).map((target) => {\n          return getUser(target, mappings[target]);\n        }));\n      })\n      .then(setUsers)\n      .then(() => setIsFetching(false));\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    setIsFetching(true);\n    adminApi.addMapping({ waiter: values.waiter, target: values.target }).then(loadData);\n  }\n\n  function handleRemove(user) {\n    setIsFetching(true);\n    adminApi.removeMapping(user.id).then(loadData);\n  }\n\n  return (\n    <Container className={classes.container}>\n      <form className={classes.form} onSubmit={handleSubmit}>\n        <TextField className={classes.textField} name=\"waiter\" placeholder=\"Waiter\" onChange={handleChange} required />\n        <TextField className={classes.textField} name=\"target\" placeholder=\"Target\" onChange={handleChange} required />\n        <Button type=\"submit\">Add</Button>\n      </form>\n      {isFetching ? <CircularProgress /> : <div>\n        <List className={classes.list} subheader={<ListSubheader>{`Users (${users.length})`}</ListSubheader>}>\n          {users.map(user => (\n            <MappingUserListItem key={user.id} user={user} onRemove={handleRemove} />\n          ))}\n        </List>\n      </div>}\n    </Container>\n  );\n}\n","import MappingView from './MappingView';\n\nexport default MappingView;\n","import React from 'react';\nimport Container from 'src/components/Container';\nimport useForm from 'src/hooks/useForm';\nimport { TextField, Button, FormControlLabel, Checkbox, CircularProgress, Typography, Paper } from '@material-ui/core';\nimport { adminApi } from 'src/core/api';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n\n  form: {\n    width: 600,\n    marginBottom: theme.spacing(2),\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n\n  textField: {\n    width: 300,\n  },\n\n  message: {\n    width: 600,\n    padding: theme.spacing(3),\n  },\n}));\n\nexport default function BlockUserView() {\n  const classes = useStyles();\n  const { values, handleChange } = useForm({ forceClose: false });\n  const [isFetching, setIsFetching] = React.useState(false);\n  const [message, setMessage] = React.useState();\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    setIsFetching(true);\n    setMessage('');\n\n    const method = values.forceClose ? 'forceUserCloseChat' : 'blockUser';\n\n    adminApi[method](values.userId)\n      .then((resp) => {\n        setMessage(JSON.stringify(resp.data));\n        setIsFetching(false);\n      })\n      .catch(() => {\n        setMessage('ERROR!');\n        setIsFetching(false);\n      });\n  }\n\n  return (\n    <Container className={classes.container}>\n      <form className={classes.form} onSubmit={handleSubmit}>\n        <TextField className={classes.textField} name=\"userId\" placeholder=\"User ID\" onChange={handleChange} required />\n        <FormControlLabel\n          control={\n            <Checkbox\n              name=\"forceClose\"\n              checked={values.forceClose}\n              onChange={handleChange}\n              color=\"primary\"\n            />\n          }\n          label=\"Force close\"\n        />\n        <Button type=\"submit\">{values.forceClose ? 'Close' : 'Block'}</Button>\n      </form>\n\n      <Paper className={classes.message}>{isFetching ? <CircularProgress /> : <Typography variant=\"caption\">{message}</Typography>}</Paper>\n    </Container>\n  );\n}\n","import BlockUserView from './BlockUserView';\n\nexport default BlockUserView;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport PrivateRoute from 'src/components/PrivateRoute';\nimport HomeView from './HomeView';\nimport LoginView from './LoginView';\nimport ForbiddenView from './ForbiddenView';\nimport OnlineUsersView from './OnlineUsersView';\nimport ActiveUsersView from './ActiveUsersView';\nimport ModerateView from './ModerateView';\nimport { UserRole } from 'src/constants';\nimport MappingView from './MappingView';\nimport BlockUserView from './BlockUserView';\n\nexport default function Content() {\n  return (\n    <React.Fragment>\n      <PrivateRoute exact path=\"/\" component={HomeView} />\n      <PrivateRoute exact path=\"/online-users\" authzCheck={[UserRole.ADMIN]} component={OnlineUsersView} />\n      <PrivateRoute exact path=\"/active-users\" authzCheck={[UserRole.ADMIN]} component={ActiveUsersView} />\n      <PrivateRoute exact path=\"/mappings\" authzCheck={[UserRole.ADMIN]} component={MappingView} />\n      <PrivateRoute exact path=\"/block-user\" authzCheck={[UserRole.ADMIN]} component={BlockUserView} />\n      <PrivateRoute exact path=\"/moderate\" authzCheck={[UserRole.MODERATOR]} component={ModerateView} />\n      <PrivateRoute exact path=\"/forbidden\" authzCheck={false} component={ForbiddenView} />\n      <Route exact path=\"/login\" component={LoginView} />\n    </React.Fragment>\n  );\n}\n","import SidebarMenuItem from './SidebarMenuItem';\n\nexport default SidebarMenuItem;\n","import React from 'react';\nimport ListItem from '@material-ui/core/ListItem';\nimport { Link } from 'react-router-dom';\n\nexport default function SidebarMenuItem({ children, to, ...restProps }) {\n  return (\n    <ListItem button to={to} component={Link} {...restProps} >\n      {children}\n    </ListItem>\n  );\n}\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport IconButton from '@material-ui/core/IconButton';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport HomeIcon from '@material-ui/icons/Home';\nimport UsersIcon from '@material-ui/icons/People';\nimport ModerateIcon from '@material-ui/icons/VerifiedUser';\nimport SidebarMenuItem from '../SidebarMenuItem';\n\nconst drawerWidth = 240;\n\nconst styles = theme => ({\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n});\n\nfunction Sidebar({ classes, open, isAdmin, closeSidebar }) {\n  return (\n    <Drawer\n      className={classes.drawer}\n      variant=\"persistent\"\n      anchor=\"left\"\n      open={open}\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n    >\n      <div className={classes.drawerHeader}>\n        <IconButton onClick={closeSidebar}>\n          <ChevronLeftIcon />\n        </IconButton>\n      </div>\n      <Divider />\n      <List>\n        <SidebarMenuItem to=\"/\">\n          <ListItemIcon>{<HomeIcon />}</ListItemIcon>\n          <ListItemText primary=\"Home\" />\n        </SidebarMenuItem>\n\n        <SidebarMenuItem to=\"/moderate\">\n          <ListItemIcon>{<ModerateIcon />}</ListItemIcon>\n          <ListItemText primary=\"Moderate\" />\n        </SidebarMenuItem>\n\n        {isAdmin && <SidebarMenuItem to=\"/online-users\">\n          <ListItemIcon>{<UsersIcon />}</ListItemIcon>\n          <ListItemText primary=\"Online Users\" />\n        </SidebarMenuItem>}\n\n        {isAdmin && <SidebarMenuItem to=\"/active-users\">\n          <ListItemIcon>{<UsersIcon />}</ListItemIcon>\n          <ListItemText primary=\"Active Users\" />\n        </SidebarMenuItem>}\n\n        {isAdmin && <SidebarMenuItem to=\"/mappings\">\n          <ListItemIcon>{<UsersIcon />}</ListItemIcon>\n          <ListItemText primary=\"Mappings\" />\n        </SidebarMenuItem>}\n\n        {isAdmin && <SidebarMenuItem to=\"/block-user\">\n          <ListItemIcon>{<UsersIcon />}</ListItemIcon>\n          <ListItemText primary=\"Block User\" />\n        </SidebarMenuItem>}\n      </List>\n    </Drawer>\n  );\n}\n\nexport default withStyles(styles)(Sidebar);\n","import { connect } from 'react-redux';\nimport Sidebar from './Sidebar';\nimport { hideSidebar } from 'src/actions/ui';\nimport * as auth from 'src/core/auth';\n\nfunction mapStateToProps(state) {\n  const { sidebarOpened } = state.ui;\n  const { user } = state.auth;\n  const isAdmin = user && auth.isAdmin(user);\n\n  return {\n    open: sidebarOpened,\n    isAdmin,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    closeSidebar() {\n      dispatch(hideSidebar());\n    },\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Sidebar);\n","import { connect } from 'react-redux';\nimport HeaderCurrentUser from './HeaderCurrentUser';\nimport { logout } from 'src/actions/auth';\n\nfunction mapStateToProps(state) {\n  const { user } = state.auth;\n\n  return {\n    displayName: user && user.name,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    handleLogout() {\n      dispatch(logout());\n    },\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(HeaderCurrentUser);\n","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport AccountIcon from '@material-ui/icons/AccountCircle';\n\nexport default function HeaderCurrentUser({ displayName, handleLogout }) {\n  const [anchorEl, setAnchorEl] = React.useState();\n  const menuId = 'menu-user';\n\n  if (!displayName) {\n    return null;\n  }\n\n  return (\n    <React.Fragment>\n      <Typography variant=\"subtitle1\" color=\"inherit\">\n        Hi, {displayName}\n      </Typography>\n      <IconButton\n        edge=\"end\"\n        aria-label=\"account of current user\"\n        aria-controls={menuId}\n        aria-haspopup=\"true\"\n        onClick={(evt) => setAnchorEl(evt.target)}\n        color=\"inherit\"\n      >\n        <AccountIcon />\n      </IconButton>\n      <Menu\n        anchorEl={anchorEl}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\n        id={menuId}\n        keepMounted\n        transformOrigin={{ vertical: 'bottom', horizontal: 'right' }}\n        open={!!anchorEl}\n        onClose={() => setAnchorEl(null)}\n      >\n        <MenuItem onClick={handleLogout}>Logout</MenuItem>\n      </Menu>\n    </React.Fragment>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport HeaderCurrentUser from '../HeaderCurrentUser';\n\nconst drawerWidth = 240;\n\nconst styles = theme => ({\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    zIndex: theme.zIndex.drawer + 1,\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginLeft: 12,\n    marginRight: 20,\n  },\n  hide: {\n    display: 'none',\n  },\n  toolbar:{\n    display: 'flex',\n    paddingRight: 20,\n  },\n  grow: {\n    flexGrow: 999,\n  },\n});\n\nfunction Header({ classes, sidebarOpened, openSidebar }) {\n  return (\n    <AppBar\n      position=\"fixed\"\n      className={classNames(classes.appBar, {\n        [classes.appBarShift]: sidebarOpened,\n      })}\n    >\n      <Toolbar disableGutters={!sidebarOpened} className={classes.toolbar}>\n        <IconButton\n          color=\"inherit\"\n          aria-label=\"Open sidebar\"\n          onClick={openSidebar}\n          className={classNames(classes.menuButton, sidebarOpened && classes.hide)}\n        >\n          <MenuIcon />\n        </IconButton>\n        <Typography variant=\"h6\" color=\"inherit\" noWrap>\n          CVNL Admin\n        </Typography>\n\n        <div className={classes.grow}></div>\n\n        <HeaderCurrentUser />\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nHeader.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Header);\n","import { connect } from 'react-redux';\nimport Header from './Header';\nimport { showSidebar } from 'src/actions/ui';\n\nfunction mapStateToProps(state) {\n  const { sidebarOpened } = state.ui;\n\n  return {\n    sidebarOpened,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    openSidebar() {\n      dispatch(showSidebar());\n    },\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Header);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst drawerWidth = 240;\n\nconst styles = theme => ({\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: -drawerWidth,\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: 0,\n  },\n});\n\nfunction ContentWrapper({ classes, sidebarOpened, children }) {\n  return (\n    <main\n      className={classNames(classes.content, {\n        [classes.contentShift]: sidebarOpened,\n      })}\n    >\n      <div className={classes.drawerHeader} />\n      {children}\n    </main>\n  );\n}\n\nfunction mapStateToProps(state) {\n  const { sidebarOpened } = state.ui;\n\n  return {\n    sidebarOpened,\n  };\n}\n\nexport default withStyles(styles)(\n  connect(mapStateToProps)(ContentWrapper)\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst styles = theme => ({\n  close: {\n    padding: theme.spacing(1/2),\n  },\n});\n\nfunction Notification({\n  classes,\n  messageText,\n  messageKey,\n  opened,\n  onExited,\n  onClosed,\n}) {\n  return (\n    <Snackbar\n      key={messageKey}\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'left',\n      }}\n      open={opened}\n      autoHideDuration={6000}\n      onClose={onClosed}\n      onExited={onExited}\n      ContentProps={{\n        'aria-describedby': 'message-id',\n      }}\n      message={<span id=\"message-id\">{messageText}</span>}\n      action={[\n        <IconButton\n          key=\"close\"\n          aria-label=\"Close\"\n          color=\"inherit\"\n          className={classes.close}\n          onClick={onClosed}\n        >\n          <CloseIcon />\n        </IconButton>,\n      ]}\n    />\n  );\n}\n\nNotification.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Notification);\n","import { connect } from 'react-redux';\nimport Notification from './Notification';\nimport { processQueue, hide } from 'src/actions/notification';\n\nfunction mapStateToProps(state) {\n  const { messageText, messageKey, opened } = state.notification;\n\n  return {\n    opened,\n    messageText,\n    messageKey,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onExited() {\n      dispatch(processQueue());\n    },\n\n    onClosed(event, reason) {\n      if (reason === 'clickaway') {\n        return;\n      }\n\n      dispatch(hide());\n    }\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Notification);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { MemoryRouter as Router } from 'react-router-dom';\nimport { withStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { BASE_DIR } from 'src/config';\nimport Content from '../Content';\nimport Sidebar from '../Sidebar';\nimport Header from '../Header';\nimport ContentWrapper from './ContentWrapper';\nimport Notification from '../Notification';\n\nconst styles = () => ({\n  root: {\n    display: 'flex',\n  },\n});\n\nfunction App({ classes }) {\n  return (\n    <Router basename={BASE_DIR}>\n      <div className={classes.root}>\n        <CssBaseline />\n        <Header />\n        <Sidebar />\n        <ContentWrapper>\n          <Content />\n        </ContentWrapper>\n        <Notification />\n      </div>\n    </Router>\n  );\n}\n\nApp.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(App);\n","/* eslint-disable no-console */\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport 'typeface-roboto';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport store from 'src/store';\nimport App from './App';\n\nexport default function RootApp() {\n  return (\n    <Provider store={store}>\n      <App />\n    </Provider>\n  );\n}\n"],"sourceRoot":""}